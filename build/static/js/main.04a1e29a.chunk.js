(this["webpackJsonpffmpeg-demo"]=this["webpackJsonpffmpeg-demo"]||[]).push([[0],{119:function(e,t,c){},148:function(e,t,c){},153:function(e,t,c){},174:function(e,t,c){},195:function(e,t,c){},196:function(e,t,c){},197:function(e,t,c){},198:function(e,t,c){},199:function(e,t,c){},200:function(e,t,c){},201:function(e,t,c){},202:function(e,t,c){},204:function(e,t,c){},205:function(e,t,c){},206:function(e,t,c){},207:function(e,t,c){},208:function(e,t,c){},222:function(e,t,c){},223:function(e,t,c){},245:function(e,t,c){},246:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(1),s=c.n(n),r=c(18),i=c.n(r),l=(c(148),c(124)),o=c(125),d=c(142),j=c(139),u=c(24),b=c(17),h=c(30),O=c(254),f=c(255),p=c(132),m=(c(36),c(153),c(9)),x=(c(45),c(53),c(46),c(57));c(173),c(174);function g(){return Object(a.jsx)(x.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=x.b;"info"==t||"i"==t?c=x.b.info:"success"==t||"s"==t?c=x.b.success:"warn"==t||"w"==t?c=x.b.warn:"error"!=t&&"e"!=t||(c=x.b.error),c(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}var y=c(19),N=c.n(y),C=c(33),S=c(10),I=c.n(S),_=c(38),k=c.n(_),w=c(131),L=function(){var e=new w.a("ffmpegLocalStorageDb");return e.version(2).stores({ffmpegLocalStorage:"ffmpeg_key, value"}),e.open().catch((function(e){console.log(e)})),e},D=function(){var e=Object(C.a)(N.a.mark((function e(t){var c,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L().ffmpegLocalStorage.where("ffmpeg_key").equals(t).first();case 2:return c=e.sent,a=(c||{}).value||null,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(C.a)(N.a.mark((function e(t,c){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L().ffmpegLocalStorage.where("ffmpeg_key").equals(t).first();case 2:if(a=e.sent,!((a||{}).value||null)){e.next=10;break}return e.next=7,L().ffmpegLocalStorage.where("ffmpeg_key").equals(t).modify({value:c});case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,L().ffmpegLocalStorage.add({ffmpeg_key:t,value:c});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),z=function(){var e=Object(C.a)(N.a.mark((function e(t){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.post("".concat(t,"api/mpeg/IsActivated"));case 3:return c=e.sent,e.abrupt("return",c);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(C.a)(N.a.mark((function e(t){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,A("IsActivate",t);case 3:e.next=9;break;case 5:return e.next=7,D("IsActivate");case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(C.a)(N.a.mark((function e(t){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,A("ActivationExp",t);case 3:e.next=9;break;case 5:return e.next=7,D("ActivationExp");case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e){if(null===e)return!0;var t=k()(e,"YYYY-MM-DD HH:mm:ss"),c=k()(k()().local().format("YYYY-MM-DD HH:mm:ss"),"YYYY-MM-DD HH:mm:ss");return t.diff(c,"hours")<=0};function K(){var e=window.ffmpeg_baseurl,t=Object(h.b)(),c=Object(b.f)();Object(h.c)((function(e){return e})).activation;Object(n.useEffect)((function(){s()}),[]);var s=function(){var a=Object(C.a)(N.a.mark((function a(){var n,s,r,i,l;return N.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"SET_LOADING_CheckActivation",payload:!0}),a.next=3,E();case 3:return n=a.sent,a.next=6,R();case 6:if(s=a.sent,s=T(s),!0!==n||!1!==s){a.next=12;break}t({type:"SET_ACTIVATION",payload:n}),a.next=28;break;case 12:return a.next=14,z(e);case 14:if(r=a.sent,i=r.data.activated||!1,l=r.data.data||"",t({type:"SET_ACTIVATION",payload:i}),i){a.next=24;break}v(l,"w"),"/"!==c.location.pathname&&c.push("/"),a.next=28;break;case 24:return a.next=26,E(i);case 26:return a.next=28,R(k()().local().add(12,"hours").format("YYYY-MM-DD HH:mm:ss"));case 28:t({type:"SET_LOADING_CheckActivation",payload:!1});case 29:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(a.jsx)(g,{})}c(195);function P(e){return Object(a.jsx)("span",{className:"C_ProgressAlert progress-1",children:e.alert})}function M(e){var t=Object(h.c)((function(e){return e})).activation;return Object(n.useEffect)((function(){}),[]),Object(a.jsxs)(O.a,{fluid:!0,className:"C_Entry bimg-page-1",children:[t.loading_CheckActivation?Object(a.jsx)(P,{alert:"Loading..."}):null,Object(a.jsx)(K,{}),Object(a.jsxs)(f.a,{className:"h-100",children:[Object(a.jsx)(p.a,{className:"col-9"}),Object(a.jsx)(p.a,{className:"col-3 p-0",children:Object(a.jsx)("div",{className:"home_btn_row",children:t.isActivate?t.isAuth?Object(a.jsx)(u.b,{className:"home_btn",to:"/home",children:Object(a.jsxs)(m.b,{color:"amber",className:"indigo-text",children:["Enter",Object(a.jsx)(m.d,{size:"lg",icon:"caret-right",className:"ml-2"})]})}):Object(a.jsx)(u.b,{className:"home_btn",to:"/login",children:Object(a.jsxs)(m.b,{color:"dark",children:["Login",Object(a.jsx)(m.d,{size:"lg",icon:"sign-in-alt",className:"ml-2"})]})}):!t.loading_CheckActivation&&Object(a.jsx)(u.b,{className:"home_btn",to:"/activation",children:Object(a.jsxs)(m.b,{color:"success",className:"",children:["Activate",Object(a.jsx)(m.d,{size:"lg",icon:"shield-alt",className:"ml-2"})]})})})})]})]})}var G=c(5);c(196);function F(e){return Object(a.jsx)(O.a,{fluid:!0,className:"C_Header bimg-page-2 p-0",children:Object(a.jsxs)(f.a,{className:"gutter m-0",children:[Object(a.jsx)(p.a,{className:"col-4 logo-1"}),Object(a.jsx)(p.a,{className:"col-8 head-details",children:Object(a.jsxs)("div",{className:"b-orange",children:[Object(a.jsxs)(p.a,{className:"col-4 b-red c-white center-xy d-flex",style:{flexDirection:"column"},children:[Object(a.jsx)("div",{children:e.selected_class}),Object(a.jsx)("span",{className:"subject-details",children:e.selected_subject?e.selected_subject:""})]}),Object(a.jsx)(p.a,{className:"col-8 b-green c-white center-xy d-flex",children:Object(a.jsx)("span",{className:"chaptert-details",children:e.selected_chapter})})]})})]})})}c(197);var H=c(133);c(198);function U(e){var t=Object(b.f)();return Object(a.jsx)(O.a,{fluid:!0,className:"C_Content bimg-page-2 p-0",children:Object(a.jsxs)(f.a,{className:"h-100 gutter m-0",children:[Object(a.jsx)(p.a,{className:"col-12 b-orange py-1 b-radius-1 shadow-1",children:Object(a.jsxs)(f.a,{children:[Object(a.jsx)(p.a,{className:"col-2 pl-4",children:"Shreni"}),Object(a.jsx)(p.a,{className:"col-3 pl-4",children:"Bishoy"}),Object(a.jsx)(p.a,{className:"col-7 pl-4",children:"Adhay Suchi"})]})}),Object(a.jsx)(p.a,{className:"col-12 b-red b-radius-2 space-3",children:Object(a.jsxs)(f.a,{className:"h-100 m-0",children:[Object(a.jsxs)(p.a,{className:"col-2 pr-0 content-box",children:[e.loading_class.enabled?Object(a.jsx)(P,{alert:e.loading_class.alert}):null,Object(a.jsx)("div",{className:"h-100 b-color-1 b-radius-3",children:Object(a.jsx)("ul",{className:"list-group grp-1",children:e.my_class})})]}),Object(a.jsxs)(p.a,{className:"col-3 pr-0 content-box",children:[e.loading_subject.enabled?Object(a.jsx)(P,{alert:e.loading_subject.alert}):null,Object(a.jsx)("div",{className:"h-100 b-color-1 b-radius-3",children:Object(a.jsx)("ul",{className:"list-group grp-2",children:e.my_subject})})]}),Object(a.jsxs)(p.a,{className:"col-7 pr-0 content-box",children:[e.loading_chapter.enabled?Object(a.jsx)(P,{alert:e.loading_chapter.alert}):null,Object(a.jsx)("ul",{className:"list-group grp-3",children:e.my_chapter})]})]})}),Object(a.jsxs)(H.a,{variant:"dark",size:"sm",onClick:function(){t.push("/")},children:[Object(a.jsx)(m.d,{icon:"angle-double-left",className:"sign-in mr-1",size:"lg"}),"Leave"]})]})})}var V=c(134);c(199);function Y(e){var t=e.show,c=e.onhide,r=e.contentID,i=e.chapter,l=window.ffmpeg_baseurl,o=s.a.useRef(),d=s.a.useRef(),j=Object(n.useState)(""),u=Object(G.a)(j,2),b=u[0],h=u[1];Object(n.useEffect)((function(){}),[]);var x=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||document.body.offsetWidth;if(e<(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||document.body.offsetHeight)){if("undefined"===typeof d.current||null===d.current)return;d.current.style.width="90%"}else{if("undefined"===typeof d.current||null===d.current)return;var t=3/4*e-50;d.current.style.width=t+"px"}};return Object(n.useEffect)((function(){document.body.onresize=function(){x()},document.body.onblur=function(){window.location.reload()}}),[]),Object(n.useEffect)((function(){if(null!==r){var e={baseurl:l};h("".concat(l,"api/mpeg/M3u8info/").concat(r),{params:e}),x()}}),[t]),Object(n.useEffect)((function(){}),[]),Object(n.useEffect)((function(){}),[]),t&&Object(a.jsx)(O.a,{fluid:!0,className:"C_Player",children:Object(a.jsx)(p.a,{className:"text-center py-3",children:Object(a.jsx)("div",{className:"player-wrapper",ref:d,children:Object(a.jsxs)(m.c,{className:"text-center",children:[Object(a.jsx)(f.a,{className:"header",children:Object(a.jsxs)(p.a,{className:"col-12 p-0",children:[Object(a.jsxs)("p",{className:"m-0 h-100",children:["\xa0",i]}),Object(a.jsxs)(m.b,{className:"exit",color:"mdb-color",size:"sm",onClick:c,children:[Object(a.jsx)(m.d,{icon:"times-circle"}),"\xa0\xa0Close"]})]})}),Object(a.jsx)(f.a,{className:"player-body",children:b.length>0?Object(a.jsx)(V.a,{playerRef:o,srcoff:"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8",xsrc:"http://localhost:50017/api/mpeg/M3u8info/20210417-020532-d829654b-bdaf-4c0c-bad6-dd7ce8326e31",src:b,autoPlay:!1,controls:!0,width:"100%",height:"auto",onEnded:function(){o.current.classList.add("fadex"),setTimeout((function(){c()}),3100)}}):null})]})})})})}function B(e){var t=window.ffmpeg_baseurl,c=Object(n.useState)({enabled:!1,alert:""}),s=Object(G.a)(c,2),r=s[0],i=s[1],l=Object(n.useState)([]),o=Object(G.a)(l,2),d=o[0],j=o[1],u=Object(n.useState)(""),b=Object(G.a)(u,2),h=b[0],O=b[1],f=Object(n.useState)(""),p=Object(G.a)(f,2),m=p[0],x=p[1],v=Object(n.useState)(""),y=Object(G.a)(v,2),N=y[0],C=y[1],S=Object(n.useState)({enabled:!1,alert:""}),_=Object(G.a)(S,2),k=_[0],w=_[1],L=Object(n.useState)([]),D=Object(G.a)(L,2),A=D[0],z=D[1],E=Object(n.useState)(""),R=Object(G.a)(E,2),T=R[0],P=R[1],M=Object(n.useState)(""),H=Object(G.a)(M,2),V=H[0],B=H[1],q=Object(n.useState)({enabled:!1,alert:""}),W=Object(G.a)(q,2),J=W[0],Q=W[1],$=Object(n.useState)([]),X=Object(G.a)($,2),Z=X[0],ee=X[1];Object(n.useEffect)((function(){le(),te(),ce();var t=new URLSearchParams(e.location.search),c=t.get("cls");c&&O(c);var a=t.get("sub");a&&P(a);var n=t.get("cls_name");n&&x(n);var s=t.get("chap_name");return s&&C(s),oe}),[]),Object(n.useEffect)((function(){de(),h&&T?ae():Q({enabled:!0,alert:"Please Provide Class and subject"})}),[h,T]),Object(n.useEffect)((function(){de()}),[N]);var te=function(){i({enabled:!0,alert:"Loading..."}),I.a.get("".concat(t,"api/mpeg/getClasses")).then((function(e){j(e.data.data),i({enabled:!1,alert:""})})).catch((function(e){i({enabled:!0,alert:"Error"})}))},ce=function(){w({enabled:!0,alert:"Loading..."}),I.a.get("".concat(t,"api/mpeg/getSubject")).then((function(e){z(e.data.data),w({enabled:!1,alert:""})})).catch((function(e){w({enabled:!0,alert:"Error"})}))},ae=function(){Q({enabled:!0,alert:"Loading..."}),I.a.get("".concat(t,"api/mpeg/getChapter"),{params:{cls:h,sub:T}}).then((function(e){ee(e.data.data),e.data.data.length?Q({enabled:!1,alert:""}):Q({enabled:!0,alert:"No data Available"})})).catch((function(e){Q({enabled:!0,alert:"Error"})}))},ne=function(e){O(e.id),x("Class ".concat(e.className))},se=function(e){P(e.id),function(e){var t=A.find((function(t,c){return t.id==e}))||{};t=t.subjectName||"",B(t)}(e.id)},re=function(e,t){C(t.chapterName),ie(e,"chapter_highlight"),null!=t.contentID&&"NULL"!=t.contentID&&(me(t.contentID),ye(t.chapterName),he(!0))},ie=function(e,t){var c=e.target;document.querySelectorAll("."+t).forEach((function(e){e.classList.remove(t)})),c.classList.add(t)},le=function(){document.body.classList.add("body-blue")},oe=function(){document.body.classList.remove("body-blue")},de=function(){var t="?cls=".concat(h,"&sub=").concat(T,"&cls_name=").concat(m,"&chap_name=").concat(N);e.history.replace({search:t})},je=Object(n.useState)(!1),ue=Object(G.a)(je,2),be=ue[0],he=ue[1],Oe=Object(n.useState)(null),fe=Object(G.a)(Oe,2),pe=fe[0],me=fe[1],xe=Object(n.useState)(null),ge=Object(G.a)(xe,2),ve=ge[0],ye=ge[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g,{}),Object(a.jsx)(K,{}),Object(a.jsx)(Y,{chapter:ve,show:be,contentID:pe,onhide:function(){he(!1),me(null),ye(null)}}),Object(a.jsx)(F,{selected_class:m,selected_subject:V,selected_chapter:N}),Object(a.jsx)(U,{my_class:d.map((function(e,t){return Object(a.jsxs)("li",{className:"list-group-item",onClick:function(){ne(e)},children:["Class ",e.className]},t)})),loading_class:r,my_subject:A.map((function(e,t){return Object(a.jsx)("li",{className:"list-group-item",onClick:function(){se(e)},children:e.subjectName},t)})),loading_subject:k,my_chapter:Z.map((function(e,t){return Object(a.jsx)("li",{className:"list-group-item",onClick:function(t){re(t,e)},children:e.chapterName},t)})),loading_chapter:J,isAuth:!0})]})}c(200),c(201);var q=function(){return Object(a.jsx)("div",{className:"BrandAnimation"})},W=c(262),J=c(263);c(202);function Q(){return Object(n.useEffect)((function(){})),Object(a.jsxs)(W.a,{bg:"light",expand:"lg",className:"Menubar",children:[Object(a.jsx)(W.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsx)(W.a.Collapse,{id:"basic-navbar-nav",children:Object(a.jsxs)(J.a,{className:"mr-auto",children:[Object(a.jsx)(J.a.Link,{href:"#admin",children:"Home"}),Object(a.jsx)(J.a.Link,{href:"#admin/upload",children:"Upload"}),Object(a.jsx)(J.a.Link,{href:"#admin/conversion",children:"Conversion"}),Object(a.jsx)(J.a.Link,{href:"#admin/addclsnsub",children:"Class-Subs"}),Object(a.jsx)(J.a.Link,{href:"#admin/addchap",children:"Chapters"}),Object(a.jsx)(J.a.Link,{href:"#admin/settings",children:"Settings"}),Object(a.jsx)(J.a.Link,{href:"#admin/keygen",children:"Key Generate"})]})})]})}function $(){return Object(n.useEffect)((function(){})),Object(a.jsxs)("div",{className:"C_Admin",children:[Object(a.jsx)(Q,{}),Object(a.jsx)(g,{}),Object(a.jsx)("div",{style:{position:"relative"},children:Object(a.jsx)(q,{})})]})}var X=c(11),Z=c(264),ee=c(261),te=c(265),ce=c(140);c(204),c(205);function ae(){return Object(a.jsx)("div",{className:"C_Loading",children:Object(a.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",children:Object(a.jsx)("g",{transform:"translate(50 50)",children:Object(a.jsxs)("g",{children:[Object(a.jsx)("animateTransform",{attributeName:"transform",type:"rotate",values:"0;45",keyTimes:"0;1",dur:"0.2s",repeatCount:"indefinite"}),Object(a.jsx)("path",{d:"M29.491524206117255 -5.5 L37.491524206117255 -5.5 L37.491524206117255 5.5 L29.491524206117255 5.5 A30 30 0 0 1 24.742744050198738 16.964569457146712 L24.742744050198738 16.964569457146712 L30.399598299691117 22.621423706639092 L22.621423706639096 30.399598299691114 L16.964569457146716 24.742744050198734 A30 30 0 0 1 5.5 29.491524206117255 L5.5 29.491524206117255 L5.5 37.491524206117255 L-5.499999999999997 37.491524206117255 L-5.499999999999997 29.491524206117255 A30 30 0 0 1 -16.964569457146705 24.742744050198738 L-16.964569457146705 24.742744050198738 L-22.621423706639085 30.399598299691117 L-30.399598299691117 22.621423706639092 L-24.742744050198738 16.964569457146712 A30 30 0 0 1 -29.491524206117255 5.500000000000009 L-29.491524206117255 5.500000000000009 L-37.491524206117255 5.50000000000001 L-37.491524206117255 -5.500000000000001 L-29.491524206117255 -5.500000000000002 A30 30 0 0 1 -24.742744050198738 -16.964569457146705 L-24.742744050198738 -16.964569457146705 L-30.399598299691117 -22.621423706639085 L-22.621423706639092 -30.399598299691117 L-16.964569457146712 -24.742744050198738 A30 30 0 0 1 -5.500000000000011 -29.491524206117255 L-5.500000000000011 -29.491524206117255 L-5.500000000000012 -37.491524206117255 L5.499999999999998 -37.491524206117255 L5.5 -29.491524206117255 A30 30 0 0 1 16.964569457146702 -24.74274405019874 L16.964569457146702 -24.74274405019874 L22.62142370663908 -30.39959829969112 L30.399598299691117 -22.6214237066391 L24.742744050198738 -16.964569457146716 A30 30 0 0 1 29.491524206117255 -5.500000000000013 M0 -20A20 20 0 1 0 0 20 A20 20 0 1 0 0 -20",fill:"#85a2b6"})]})})})})}function ne(){var e=window.ffmpeg_baseurl,t=Object(n.useState)(!1),c=Object(G.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)(""),l=Object(G.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)(""),u=Object(G.a)(j,2),b=u[0],h=u[1],x=Object(n.useState)(""),g=Object(G.a)(x,2),y=g[0],N=g[1],C=Object(n.useState)(""),S=Object(G.a)(C,2),_=S[0],k=S[1],w=Object(n.useState)(null),L=Object(G.a)(w,2),D=L[0],A=L[1],z=Object(n.useState)(""),E=Object(G.a)(z,2),R=E[0],T=E[1],K=Object(n.useState)(0),P=Object(G.a)(K,2),M=P[0],F=P[1],H=Object(n.useState)(null),U=Object(G.a)(H,2),V=U[0],Y=U[1],B=Object(n.useState)(!1),q=Object(G.a)(B,2),W=q[0],J=q[1],Q=Object(n.useRef)();Object(n.useEffect)((function(){N("Select any MP4 file"),ie()}),[]);var $=Object(n.useCallback)((function(e){if(e.length){var t=e[0],c=t.size,a=t.type,n=t.name;"video"!=a.split("/")[0]?(k("Please select video file"),N("Select any MP4 file")):(document.getElementById("content_file").removeAttribute("required"),k("Size: "+le(c)),N(n),A(e[0]))}}),[]),ne=Object(ce.a)({onDrop:$,multiple:!1}),se=ne.getRootProps,re=ne.getInputProps,ie=(ne.isDragActive,function(){r(!0),I.a.get("".concat(e,"api/mpeg/UniquID")).then((function(e){h(e.data.Id),r(!1)})).catch((function(e){d("Error load unique ID"),r(!1)}))}),le=function(e){if(0==e)return"0 Byte";var t=parseInt(Math.floor(Math.log(e)/Math.log(1024)));return Math.round(e/Math.pow(1024,t),2)+" "+["Bytes","KB","MB","GB","TB"][t]},oe=function(){setTimeout((function(){ie(),k(""),N("Select any MP4 file"),A(null),F(0),Q.current.value="",document.querySelector("#content_file").value="",document.getElementById("content_file").setAttribute("required",""),J(!1),Y(null)}),1e3,!0)};return Object(a.jsx)(O.a,{fluid:!0,className:"C_Upload",children:Object(a.jsx)(f.a,{className:"h-100 m-0",children:Object(a.jsx)(p.a,{className:"col-md-8 col-lg-6 pt-3",children:Object(a.jsxs)(Z.a,{children:[Object(a.jsxs)(Z.a.Header,{children:["Upload File ",Object(a.jsx)("span",{className:"loading-error",children:o}),s?Object(a.jsx)(ae,{}):null]}),Object(a.jsx)(Z.a.Body,{children:Object(a.jsxs)(ee.a,{noValidate:!0,validated:W,onSubmit:function(t){if(d(""),r(!0),t.preventDefault(),t.stopPropagation(),!1===t.currentTarget.checkValidity())d("Please provide all field"),v("Please provide all field","i"),r(!1);else{console.log("Ready for upload to server");var c=new FormData;c.append("body",D),c.append("uid",b),c.append("file_name",y),c.append("file_title",R);var a=I.a.CancelToken.source();Y(a);var n={headers:{"content-type":"multipart/form-data"},cancelToken:a.token,onUploadProgress:function(e){!function(e){var t=Math.round(100*e.loaded/e.total);F(t)}(e)}};I.a.post("".concat(e,"api/Mpeg/UploadFile"),c,n).then((function(e){d("File uploaded successfully."),r(!1),oe(),v("File uploaded successfully.","i")})).catch((function(e){d("Error post data"),r(!1)}))}J(!0)},children:[Object(a.jsxs)(ee.a.Group,{controlId:"Unique_ID",children:[Object(a.jsx)(ee.a.Label,{children:"Unique ID"}),Object(a.jsx)(ee.a.Control,{type:"text",defaultValue:b,placeholder:"Unique ID",required:!0,readOnly:!0}),Object(a.jsx)(ee.a.Control.Feedback,{children:"Looks good!"})]}),Object(a.jsxs)(ee.a.Group,{controlId:"File_Title",children:[Object(a.jsx)(ee.a.Label,{children:"File Title"}),Object(a.jsx)(ee.a.Control,{type:"text",autoComplete:"off",placeholder:"File title",required:!0,defaultValue:R,onChange:function(e){T(e.target.value)},ref:Q}),Object(a.jsx)(ee.a.Control.Feedback,{children:"Looks good!"})]}),Object(a.jsxs)(ee.a.Group,{className:"mb-0",children:[Object(a.jsx)(ee.a.Label,{children:"Choose File"}),Object(a.jsxs)(ee.a.File,{name:"content_file",id:"content_file",custom:!0,children:[Object(a.jsx)(ee.a.File.Input,{required:!0,onChange:function(e){if(e.currentTarget.files&&e.currentTarget.files.length){var t=e.currentTarget.files[0],c=t.size,a=t.type,n=t.name;"video"!=a.split("/")[0]?(k("Please select video file"),N("Select any MP4 file")):(k("Size: "+le(c)),N(n),A(e.currentTarget.files[0]))}}}),Object(a.jsx)(ee.a.File.Label,{"data-browse":"Browse File",children:y}),Object(a.jsx)(ee.a.Text,{className:"text-muted",children:_})]}),Object(a.jsx)(te.a,{variant:"success",animated:!0,now:M})]}),Object(a.jsx)(ee.a.Group,{className:"dragdrop-frm-group",children:Object(a.jsxs)("div",Object(X.a)(Object(X.a)({},se()),{},{children:[Object(a.jsx)("input",Object(X.a)({id:"content_file_drop"},re())),Object(a.jsx)("p",{children:"Drag 'n' drop some file here, or click to select files"})]}))}),Object(a.jsxs)(m.b,{type:"submit",color:"indigo",size:"sm",children:[Object(a.jsx)(m.d,{far:!0,icon:"save",size:"lg"}),"\xa0\xa0Submit"]}),Object(a.jsxs)(m.b,{type:"button",color:"indigo",size:"sm",onClick:function(){null!=V&&(V.cancel(),oe())},children:[Object(a.jsx)(m.d,{icon:"ban"}),"\xa0\xa0Cancel Upload"]})]})})]})})})})}var se=c(141),re=c(267),ie=c(256),le=c(257),oe=c(136),de=c(259),je=c(258),ue=(c(206),c(51)),be=(c(207),c(266));function he(e){var t=e.show,c=e.list,n=e.onhide,s=e.hide_visible;return t&&Object(a.jsxs)(O.a,{fluid:!0,className:"C_Modal",children:[Object(a.jsx)(p.a,{className:"text-center py-3",children:s&&Object(a.jsx)(H.a,{onClick:n,variant:"dark",children:"Close"})}),Object(a.jsx)(be.a,{children:c.map((function(e,t){return Object(a.jsx)(be.a.Item,{children:e},t)}))})]})}c(208);function Oe(e){var t=e.onhide,c=e.data,s=window.ffmpeg_baseurl,r=Object(n.useState)(!1),i=Object(G.a)(r,2),l=i[0],o=i[1],d=Object(n.useState)(""),j=Object(G.a)(d,2),u=j[0],b=j[1],h=Object(n.useState)(!1),x=Object(G.a)(h,2),g=x[0],y=x[1],N=Object(n.useRef)(null);Object(n.useEffect)((function(){if("add"==c.e)Q(),K(),be();else if("edit"==c.e){var e=c.data,t=e.id,a=e.chapterName,n=e.classId,s=e.subjectId,r=e.contentID;N.current.value=t,C.current.value=a,Q(n),K(s),be(r)}else c.e}),[]);var C=Object(n.useRef)(null),S=Object(n.useState)(null),_=Object(G.a)(S,2),k=_[0],w=_[1],L=Object(n.useRef)(null),D=Object(n.useRef)(!1),A=function(e){he(e,L,D)},z=Object(n.useState)([]),E=Object(G.a)(z,2),R=E[0],T=E[1],K=function(e){o(!0),b("Loading..."),I.a.get("".concat(s,"api/mpeg/getSubject")).then((function(t){o(!1),b("");var c=t.data.data.map((function(e){return{value:e.id,label:e.subjectName}}));T(c);var a=c.find((function(t){return t.value==e}));w(a)})).catch((function(e){o(!1),b("Error loading Subject")}))},P=Object(n.useState)(null),M=Object(G.a)(P,2),F=M[0],H=M[1],U=Object(n.useRef)(null),V=Object(n.useRef)(!1),Y=function(e){he(e,U,V)},B=Object(n.useState)([]),q=Object(G.a)(B,2),W=q[0],J=q[1],Q=function(e){o(!0),b("Loading..."),I.a.get("".concat(s,"api/mpeg/getClasses")).then((function(t){o(!1),b("");var c=t.data.data.map((function(e){return{value:e.id,label:e.className}}));J(c);var a=c.find((function(t){return t.value==e}));H(a)})).catch((function(e){o(!1),b("Error loading Class")}))},$=Object(n.useState)(null),te=Object(G.a)($,2),ce=te[0],ne=te[1],se=Object(n.useRef)(null),re=Object(n.useRef)(!1),ie=function(e){he(e,se,re)},le=Object(n.useState)([]),oe=Object(G.a)(le,2),de=oe[0],je=oe[1],be=function(e){o(!0),b("Loading...");var t={_id:e};I.a.get("".concat(s,"api/mpeg/getContent"),{params:t}).then((function(t){o(!1),b("");var c=t.data.data.map((function(e){var t=e.contentID;return{value:t,label:t}}));c.unshift({value:null,label:"None"}),je(c);var a=c.find((function(t){return t.value==e}));ne(a)})).catch((function(e){o(!1),b("Error loading Class")}))},he=function(e,t,c){if(t.current){var a=t.current.select.controlRef;if(a)if(c.current=!0,null==e)a.style.borderColor="#dc3545";else{a.style.borderColor="#28a745";var n=a.parentNode.nextSibling;n&&n.classList.contains("valid-feedback")&&(n.style.display="block")}}};return Object(a.jsx)(O.a,{fluid:!0,className:"C_AddChap_Add",children:Object(a.jsx)(f.a,{children:Object(a.jsx)(p.a,{className:"col-md-8 col-lg-6 pt-3 mx-auto",children:Object(a.jsxs)(Z.a,{children:[Object(a.jsxs)(Z.a.Header,{children:["Add chapter ",Object(a.jsx)("span",{className:"loading-error",children:u}),l?Object(a.jsx)(ae,{}):null]}),Object(a.jsx)(Z.a.Body,{children:Object(a.jsxs)(ee.a,{noValidate:!0,validated:g,onSubmit:function(e){if(b(""),o(!0),e.preventDefault(),e.stopPropagation(),!1===e.currentTarget.checkValidity()||null==k||null==F)b("Please provide all field"),o(!1);else{var a={id:N.current.value,chapterName:C.current.value,subjectId:null!=k?k.value:null,classId:null!=F?F.value:null,contentID:null!=ce?ce.value:null},n=null,r=null;if("add"!=c.e&&"attach"!=c.e||(n=Object(X.a)({},a),r="".concat(s,"api/mpeg/AddChapter")),"edit"==c.e&&(n=Object(X.a)({},a),r="".concat(s,"api/mpeg/PutChapter")),null==r||null==n)return;I.a.post(r,n,{headers:{"content-type":"application/json"}}).then((function(e){b(e.data.data),o(!1),v(e.data.data,"i"),t()})).catch((function(e){o(!1),setError_Cls("Error to save data")}))}y(!0),A(k),Y(F)},children:[Object(a.jsx)("input",{type:"hidden",ref:N}),Object(a.jsxs)(ee.a.Group,{controlId:"chapterName",children:[Object(a.jsx)(ee.a.Label,{children:"Chapter Name"}),Object(a.jsx)(ee.a.Control,{type:"text",defaultValue:"",ref:C,placeholder:"Chapter Name",required:!0}),Object(a.jsx)(ee.a.Control.Feedback,{children:"Looks good!"})]}),Object(a.jsxs)(ee.a.Group,{controlId:"subject",children:[Object(a.jsx)(ee.a.Label,{children:"Subject"}),Object(a.jsx)(ue.a,{value:k,options:R,onChange:function(e){w(e),D.current&&A(e)},ref:L}),Object(a.jsx)(ee.a.Control.Feedback,{children:"Looks good!"})]}),Object(a.jsxs)(ee.a.Group,{controlId:"class",children:[Object(a.jsx)(ee.a.Label,{children:"Class"}),Object(a.jsx)(ue.a,{value:F,options:W,onChange:function(e){H(e),V.current&&Y(e)},ref:U}),Object(a.jsx)(ee.a.Control.Feedback,{children:"Looks good!"})]}),Object(a.jsxs)(ee.a.Group,{controlId:"contentID",children:[Object(a.jsx)(ee.a.Label,{children:"content ID"}),Object(a.jsx)(ue.a,{value:ce,options:de,onChange:function(e){ne(e),re.current&&ie(e)},ref:se}),Object(a.jsx)(ee.a.Control.Feedback,{children:"Looks good!"})]}),Object(a.jsxs)(m.b,{type:"submit",color:"indigo",size:"sm",children:[Object(a.jsx)(m.d,{far:!0,icon:"save",size:"lg"}),"\xa0\xa0Submit"]}),Object(a.jsxs)(m.b,{type:"submit",color:"indigo",size:"sm",onClick:t,children:[Object(a.jsx)(m.d,{icon:"times-circle",size:"lg"}),"\xa0\xa0Close"]})]})})]})})})})}function fe(e){var t=window.ffmpeg_baseurl,c=Object(n.useState)(!1),s=Object(G.a)(c,2),r=s[0],i=s[1],l=Object(n.useState)(""),o=Object(G.a)(l,2),d=o[0],j=o[1],u=Object(n.useState)([]),b=Object(G.a)(u,2),h=b[0],m=b[1],x=Object(n.useState)(null),g=Object(G.a)(x,2),y=g[0],N=g[1],C=Object(n.useRef)(null),S=Object(n.useRef)(null),_=Object(n.useRef)(null),k=Object(n.useRef)(null),w=Object(n.useRef)(null),L=Object(n.useState)([]),D=Object(G.a)(L,2),A=D[0],z=D[1],E=Object(n.useState)(!1),R=Object(G.a)(E,2),T=R[0],K=R[1],P=Object(n.useState)(!1),M=Object(G.a)(P,2),F=M[0],U=M[1],V=Object(n.useState)([]),B=Object(G.a)(V,2),q=B[0],W=B[1],J=Object(n.useState)({pageindex:0,limit:5}),Q=Object(G.a)(J,2),$=Q[0],Z=Q[1],ee=Object(n.useState)(!1),te=Object(G.a)(ee,2),ce=te[0],ne=te[1],be=Object(n.useState)(null),fe=Object(G.a)(be,2),pe=fe[0],me=fe[1],xe=Object(n.useState)(!1),ge=Object(G.a)(xe,2),ve=ge[0],ye=ge[1],Ne=Object(n.useState)({}),Ce=Object(G.a)(Ne,2),Se=Ce[0];Ce[1];Object(n.useEffect)((function(){Ie($),N({value:"5",label:"5"})}),[]);var Ie=function(e){i(!0),j("Loading..."),I.a.get("".concat(t,"api/mpeg/getContentPage"),{params:e}).then((function(e){m(e.data.data);for(var t=e.data,c=t.pageindex,n=t.totalPage,s=[],r=function(e){s.push(Object(a.jsx)(re.a.Item,{onClick:function(){_e(e)},active:e==c,children:e+1},e))},l=0;l<n;l++)r(l);W(s),i(!1),j("")})).catch((function(e){i(!1),j("Error loading Content")}))},_e=function(e){Z((function(t){var c=Object(X.a)(Object(X.a)({},t),{},{pageindex:e});return Ie(c),c}))},ke=function(e){clearTimeout(S.current),S.current=setTimeout((function(){e()}),1e3)},we=function(e,t){Z((function(c){var a=Object(X.a)(Object(X.a)({},c),{},{orderby:e,desc:t});return Ie(a),a}))},Le=function(e,t){null!=e?"string"===typeof e&&z(t?[e]:function(t){return[e].concat(Object(se.a)(t))}):z([])},De=function(e,c){var a=e.contentID,n=e.contentFileName;"start"===c?(K(!0),I.a.get("".concat(t,"api/mpeg/MediaInfo/").concat(a),{params:{fname:n}}).then((function(e){var t=e.data,c=t.duration,s=t.fps,r=t.frame;if("undefined"===typeof c)return Le("Video not exist!",!1),void U(!0);Le("Ready for Conversion...",!1),Le("Video duration ".concat(c,", fps ").concat(s," and frame ").concat(r),!1),Ae(a,(function(){ze(a,n),Ee(a,e.data)}))})).catch((function(e){console.log(e),Le(e,!1),U(!0)}))):"progress"===c?(K(!0),I.a.get("".concat(t,"api/mpeg/MediaInfo/").concat(a),{params:{fname:n}}).then((function(e){var t=e.data,c=t.duration,n=t.fps,s=t.frame;if("undefined"===typeof c)return Le("Video not exist!",!1),void U(!0);Le("Video duration ".concat(c,", fps ").concat(n," and frame ").concat(s),!1),Ee(a,e.data)})).catch((function(e){console.log(e),Le(e,!1),U(!0)}))):"restore"===c?Te(a):"remove"===c?Pe(a):"delete"===c?confirm("are you sure to delete "+a)&&Ke(a):"play"===c&&(me(a),ne(!0))},Ae=function(e,c){Le("Ready for generate key file...",!1);var a={Id:e};I.a.post("".concat(t,"api/mpeg/CreateKey"),a,{headers:{"content-type":"application/json"}}).then((function(e){Le("key generated successfully",!1),v("key generated successfully","i"),c()})).catch((function(e){console.log(e),Le(e,!1),U(!0)}))},ze=function(e,c){Le("Ready for encryption...",!1),I.a.get("".concat(t,"api/mpeg/Conversion/").concat(e),{params:{fname:c}}).then((function(e){Le("video file encrypted successfully...",!1),v("video file encrypted successfully","i")})).catch((function(e){console.log(e),Le(e,!1),U(!0)}))},Ee=function(e,c){var a=c.frame;Le("keep watching the encryption progress...",!1),C.current=setInterval((function(){I.a.get("".concat(t,"api/mpeg/ConversionProgressInfo/").concat(e),{params:{}}).then((function(t){var c=t.data,n=c.status,s=c.currentFrame;if("continue"===n){var r=parseInt(s/a*100);Le("encryption progress ".concat(r,"%"),!1)}else"end"===n&&(Le("encryption progress 100% completed",!1),Re(e,(function(){clearInterval(C.current),U(!0)})))})).catch((function(e){console.log(e),clearInterval(C.current),Le(e,!1),U(!0)}))}),1e4)},Re=function(e,c){var a={Id:e};I.a.post("".concat(t,"api/mpeg/ConversionEnded"),a,{headers:{"content-type":"application/json"}}).then((function(e){console.log(e),Le(e.data.data,!1),v(e.data.data,"i"),c()})).catch((function(e){console.log(e),Le(e,!1),U(!0)}))},Te=function(e){var c={Id:e};I.a.post("".concat(t,"api/mpeg/RestoreKey2SD"),c,{headers:{"content-type":"application/json"}}).then((function(e){v(e.data.data,"i")})).catch((function(e){console.log(e),Le(e,!1),U(!0)}))},Ke=function(e){i(!0);var c={Id:e};I.a.post("".concat(t,"api/mpeg/Deletecontent"),c,{headers:{"content-type":"application/json"}}).then((function(e){i(!1),v(e.data.data,"i"),Ie($)})).catch((function(e){j("Error"),i(!1),Ie($)}))},Pe=function(e){var c={Id:e};I.a.post("".concat(t,"api/mpeg/RemoveKeyFromSD"),c,{headers:{"content-type":"application/json"}}).then((function(e){v(e.data.data,"i")})).catch((function(e){console.log(e),Le(e,!1),U(!0)}))};return Object(a.jsxs)(O.a,{fluid:!0,className:"C_Conversion",children:[Object(a.jsx)(Y,{show:ce,contentID:pe,onhide:function(){ne(!1)}}),Object(a.jsx)(he,{show:T,list:A,onhide:function(){Le(null,!0),K(!1),U(!1),Ie($)},hide_visible:F}),Object(a.jsx)(f.a,{children:ve?Object(a.jsx)(Oe,{onhide:function(){ye(!1)},data:Se}):null}),Object(a.jsxs)(f.a,{className:"h-100 m-0",children:[Object(a.jsxs)(p.a,{className:"col-12 pt-3",children:[Object(a.jsx)("span",{className:"loading-error",children:d}),r?Object(a.jsx)(ae,{}):null]}),Object(a.jsx)(p.a,{className:"col-12 pt-3",children:Object(a.jsxs)(ie.a,{striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:Object(a.jsxs)("div",{className:"td-filter-box",children:["Content ID",Object(a.jsx)(le.a,{size:"sm",className:"",children:Object(a.jsx)(oe.a,{placeholder:"Search by ID","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){var t;t=e.target.value,k.current.value="",w.current.value="",ke((function(){Z((function(e){var c=Object(X.a)(Object(X.a)({},e),{},{contentID:t,pageindex:0});return delete c.contentTitle,delete c.contentFileName,Ie(c),c}))}))},ref:_})})]})}),Object(a.jsx)("th",{children:Object(a.jsxs)("div",{className:"td-filter-box",children:["Content Title",Object(a.jsx)(le.a,{size:"sm",className:"",children:Object(a.jsx)(oe.a,{placeholder:"Search by Title","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){var t;t=e.target.value,_.current.value="",w.current.value="",ke((function(){Z((function(e){var c=Object(X.a)(Object(X.a)({},e),{},{contentTitle:t,pageindex:0});return delete c.contentID,delete c.contentFileName,Ie(c),c}))}))},ref:k})})]})}),Object(a.jsx)("th",{children:Object(a.jsxs)("div",{className:"td-filter-box",children:["File Name",Object(a.jsx)(le.a,{size:"sm",className:"",children:Object(a.jsx)(oe.a,{placeholder:"Search by File Name","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){var t;t=e.target.value,_.current.value="",k.current.value="",ke((function(){Z((function(e){var c=Object(X.a)(Object(X.a)({},e),{},{contentFileName:t,pageindex:0});return delete c.contentID,delete c.contentTitle,Ie(c),c}))}))},ref:w})})]})}),Object(a.jsx)("th",{children:Object(a.jsxs)("div",{className:"td-filter-box",children:["Action",Object(a.jsxs)(de.a,{children:[Object(a.jsx)(de.a.Toggle,{size:"sm",variant:"light",id:"dropdown-basic",children:"Sort By \xa0\xa0"}),Object(a.jsxs)(de.a.Menu,{children:[Object(a.jsx)(de.a.Item,{href:"#",children:Object(a.jsxs)(je.a,{size:"sm",children:[Object(a.jsx)(H.a,{style:{marginRight:".7rem"},onClick:function(){we("contentID","false")},children:"ID"}),Object(a.jsx)(H.a,{onClick:function(){we("contentID","true")},children:"Desc"})]})}),Object(a.jsx)(de.a.Item,{href:"#",children:Object(a.jsxs)(je.a,{size:"sm",children:[Object(a.jsx)(H.a,{style:{marginRight:".7rem"},onClick:function(){we("contentTitle","false")},children:"Title"}),Object(a.jsx)(H.a,{onClick:function(){we("contentTitle","true")},children:"Desc"})]})}),Object(a.jsx)(de.a.Item,{href:"#",children:Object(a.jsxs)(je.a,{size:"sm",children:[Object(a.jsx)(H.a,{style:{marginRight:".7rem"},onClick:function(){we("contentFileName","false")},children:"File Name"}),Object(a.jsx)(H.a,{onClick:function(){we("contentFileName","true")},children:"Desc"})]})})]})]})]})})]})}),Object(a.jsx)("tbody",{children:h.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.contentID}),Object(a.jsx)("td",{children:e.contentTitle}),Object(a.jsx)("td",{children:e.contentFileName}),Object(a.jsx)("td",{className:"action-box",children:"0"==e.IsConversion?Object(a.jsxs)("span",{children:[Object(a.jsx)(H.a,{variant:"outline-info",size:"sm",className:"mr-1 mb-1",onClick:function(){return De(e,"start")},children:"Start"}),Object(a.jsx)(H.a,{variant:"outline-danger",size:"sm",className:"mb-1",onClick:function(){return De(e,"delete")},children:"Delete"})]}):"1"==e.IsConversion?Object(a.jsx)(H.a,{variant:"outline-info",size:"sm",onClick:function(){return De(e,"progress")},children:"Progress"}):Object(a.jsxs)("span",{children:[Object(a.jsxs)(de.a,{children:[Object(a.jsx)(de.a.Toggle,{variant:"info",size:"sm",id:"dropdown-content",className:"mr-1 mb-1",children:"Content \xa0"}),Object(a.jsxs)(de.a.Menu,{children:[Object(a.jsx)(de.a.Item,{onClick:function(){return De(e,"play")},children:"Play"}),Object(a.jsx)(de.a.Item,{className:"danger",onClick:function(){return De(e,"delete")},children:"Delete"})]})]}),Object(a.jsxs)(de.a,{children:[Object(a.jsx)(de.a.Toggle,{variant:"info",size:"sm",id:"dropdown-key",className:"mb-1",children:"Key \xa0"}),Object(a.jsxs)(de.a.Menu,{children:[Object(a.jsx)(de.a.Item,{onClick:function(){return De(e,"restore")},children:"Restore to device"}),Object(a.jsx)(de.a.Item,{className:"danger",onClick:function(){return De(e,"remove")},children:"Remove from device"})]})]})]})})]},t)}))})]})}),Object(a.jsx)(p.a,{className:"col-4 pt-3",children:Object(a.jsx)("table",{className:"lmt",children:Object(a.jsx)("tbody",{children:Object(a.jsx)("tr",{children:Object(a.jsxs)("td",{children:[Object(a.jsx)("div",{className:"y",children:" Limit: "}),Object(a.jsx)(ue.a,{value:y,className:"x",options:[{value:"5",label:"5"},{value:"10",label:"10"},{value:"50",label:"50"},{value:"100",label:"100"}],onChange:function(e){N(e),Z((function(t){var c=Object(X.a)(Object(X.a)({},t),{},{limit:e.value,pageindex:0});return Ie(c),c}))}})]})})})})}),Object(a.jsx)(p.a,{className:"col-8 pt-3 pagination-wrapper",children:Object(a.jsx)(re.a,{size:"sm",children:q})})]})]})}c(222);function pe(){var e=window.ffmpeg_baseurl,t=Object(n.useState)(!1),c=Object(G.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)(""),l=Object(G.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)([]),u=Object(G.a)(j,2),b=u[0],h=u[1],x=Object(n.useRef)(null),g=Object(n.useRef)(null),y=Object(n.useState)(!1),N=Object(G.a)(y,2),C=N[0],S=N[1],_=Object(n.useRef)(null),k=Object(n.useRef)(null),w=Object(n.useState)(!1),L=Object(G.a)(w,2),D=L[0],A=L[1],z=Object(n.useState)(""),E=Object(G.a)(z,2),R=E[0],T=E[1],K=Object(n.useState)([]),P=Object(G.a)(K,2),M=P[0],F=P[1],H=Object(n.useRef)(null),U=Object(n.useRef)(null),V=Object(n.useState)(!1),Y=Object(G.a)(V,2),B=Y[0],q=Y[1],W=Object(n.useRef)(null),J=Object(n.useRef)(null);Object(n.useEffect)((function(){Q(),$()}),[]);var Q=function(){r(!0),I.a.get("".concat(e,"api/mpeg/getClasses")).then((function(e){h(e.data.data),ce("cls"),r(!1),d("")})).catch((function(e){r(!1),d("Error loading Class")}))},$=function(){A(!0),T("Loading..."),I.a.get("".concat(e,"api/mpeg/getSubject")).then((function(e){F(e.data.data),ce("sub"),A(!1),T("")})).catch((function(e){A(!1),T("Error loading Subject")}))},X=function(t){var c=t.name,a=t.id,n=t.e;r(!0);var s=null,i=null;"update_cls"===n?(s={name:c,id:a},i="".concat(e,"api/mpeg/PutClass")):"add_cls"===n?(s={name:c},i="".concat(e,"api/mpeg/AddClass")):"delete_cls"===n&&(s={id:a},i="".concat(e,"api/mpeg/RemoveClass")),null!=i&&null!=s&&I.a.post(i,s,{headers:{"content-type":"application/json"}}).then((function(e){d(e.data.data),v(e.data.data,"info"),Q()})).catch((function(e){d("Error to save data")}))},Z=function(t){var c=t.name,a=t.id,n=t.e;A(!0);var s=null,r=null;"update_sub"===n?(s={name:c,id:a},r="".concat(e,"api/mpeg/PutSubject")):"add_sub"===n?(s={name:c},r="".concat(e,"api/mpeg/AddSubject")):"delete_sub"===n&&(s={id:a},r="".concat(e,"api/mpeg/RemoveSubject")),null!=r&&null!=s&&I.a.post(r,s,{headers:{"content-type":"application/json"}}).then((function(e){T(e.data.data),$(),v(e.data.data,"info")})).catch((function(e){T("Error to save data")}))},te=function(e,t){var c=e.id,a=e.className,n=e.subjectName;if("edit_cls"===t)k.current.value=c,_.current.value=a,S(!0),ne(c);else if("update_cls"===t){if(""==_.current.value)return;if(""==k.current.value)return;X({name:_.current.value,id:k.current.value,e:t}),setTimeout((function(){k.current.value="",_.current.value="",S(!1),ne(null)}),200)}else if("delete_cls"===t){if(""==c)return;X({id:c,e:t})}else if("add_cls"===t){if(""==_.current.value)return void v("Please provide class name","w");X({name:_.current.value,e:t}),setTimeout((function(){_.current.value=""}),200)}else if("edit_sub"===t)J.current.value=c,W.current.value=n,q(!0),se(c);else if("update_sub"===t){if(""==W.current.value)return;if(""==J.current.value)return;Z({name:W.current.value,id:J.current.value,e:t}),setTimeout((function(){J.current.value="",W.current.value="",q(!1),ne(null),se(null)}),200)}else if("delete_sub"===t){if(""==c)return;Z({id:c,e:t})}else if("add_sub"===t){if(""==W.current.value)return void v("Please provide subject name","w");Z({name:W.current.value,e:t}),setTimeout((function(){W.current.value=""}),200)}},ce=function(e){if("cls"===e){if("undefined"===typeof x.current)return;var t=parseInt(x.current.clientHeight),c=parseInt(x.current.parentElement.clientHeight);if("undefined"===typeof g.current)return;g.current.style.borderRight=t>c?".9rem solid #cecece":"0rem solid #cecece"}else if("sub"===e){if("undefined"===typeof H.current)return;var a=parseInt(H.current.clientHeight),n=parseInt(H.current.parentElement.clientHeight);if("undefined"===typeof g.current)return;U.current.style.borderRight=a>n?".9rem solid #cecece":"0rem solid #cecece"}},ne=function(e){document.querySelectorAll(".tr_cls").forEach((function(e){e.classList.remove("active")})),e&&document.querySelector(".tr_cls_"+e).classList.add("active")},se=function(e){document.querySelectorAll(".tr_sub").forEach((function(e){e.classList.remove("active")})),e&&document.querySelector(".tr_sub_"+e).classList.add("active")};return Object(a.jsx)(O.a,{fluid:!0,className:"C_AddCsub",children:Object(a.jsxs)(f.a,{className:"h-100 m-0",children:[Object(a.jsxs)(p.a,{className:"col-sm-12 col-md-10 col-lg-6 pt-3 mx-auto",children:[Object(a.jsx)(ie.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",ref:g,children:Object(a.jsxs)("thead",{children:[Object(a.jsx)("tr",{children:Object(a.jsxs)("th",{colSpan:"3",children:["Class List",Object(a.jsx)("span",{className:"loading-error",children:o}),s?Object(a.jsx)(ae,{}):null]})}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{style:{width:"10%"},children:"#"}),Object(a.jsx)("th",{style:{width:"70%"},children:"Description"}),Object(a.jsx)("th",{style:{width:"20%"},children:"Action"})]})]})}),Object(a.jsx)("div",{className:"tblList-class",children:Object(a.jsx)(ie.a,{striped:!0,bordered:!0,hover:!0,ref:x,className:"mb-0",children:Object(a.jsx)("tbody",{children:b.map((function(e,t){return Object(a.jsxs)("tr",{className:"tr_cls tr_cls_"+e.id,children:[Object(a.jsx)("td",{style:{width:"10%"},children:t+1}),Object(a.jsx)("td",{style:{width:"70%"},children:e.className}),Object(a.jsx)("td",{style:{width:"20%"},className:"actions",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{title:"edit Class",className:"btnEdit",type:"button",onClick:function(){return te(e,"edit_cls")},children:Object(a.jsx)(m.d,{size:"lg",icon:"edit mdb-gallery-view-icon"})}),Object(a.jsx)("button",{title:"Delete Class",className:"btnDelete",type:"button",onClick:function(){return te(e,"delete_cls")},children:Object(a.jsx)(m.d,{size:"lg",icon:"trash-alt mdb-gallery-view-icon"})})]})})]},t)}))})})}),Object(a.jsx)(ee.a,{noValidate:!0,children:Object(a.jsx)(ie.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",children:Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:{width:"10%"}}),Object(a.jsx)("td",{style:{width:"70%"},className:"py-1",children:Object(a.jsxs)(ee.a.Group,{controlId:"Class_Name",className:"my-0",children:[Object(a.jsx)(ee.a.Control,{type:"text",autoComplete:"off",placeholder:"Class Name",required:!0,defaultValue:"",ref:_}),Object(a.jsx)(ee.a.Control.Feedback,{children:"Looks good!"})]})}),Object(a.jsxs)("td",{className:"actions py-1",style:{width:"20%"},children:[Object(a.jsx)("input",{type:"hidden",ref:k}),C?Object(a.jsxs)(m.b,{size:"sm",onClick:function(){return te({},"update_cls")},color:"indigo",className:"btnAdd",children:[Object(a.jsx)(m.d,{size:"lg",icon:"save",className:"ml-2"})," Update"]}):Object(a.jsxs)(m.b,{size:"sm",onClick:function(){return te({},"add_cls")},color:"indigo",className:"btnAdd",children:[Object(a.jsx)(m.d,{size:"lg",icon:"plus-circle mdb-gallery-view-icon",className:"ml-2"})," Add"]})]})]})})})})]}),Object(a.jsxs)(p.a,{className:"col-sm-12 col-md-10 col-lg-6 pt-3 mx-auto Subject",children:[Object(a.jsx)(ie.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",ref:U,children:Object(a.jsxs)("thead",{children:[Object(a.jsx)("tr",{children:Object(a.jsxs)("th",{colSpan:"3",children:["Subject List",Object(a.jsx)("span",{className:"loading-error",children:R}),D?Object(a.jsx)(ae,{}):null]})}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{style:{width:"10%"},children:"#"}),Object(a.jsx)("th",{style:{width:"70%"},children:"Description"}),Object(a.jsx)("th",{style:{width:"20%"},children:"Action"})]})]})}),Object(a.jsx)("div",{className:"tblList-class",children:Object(a.jsx)(ie.a,{striped:!0,bordered:!0,hover:!0,ref:H,className:"mb-0",children:Object(a.jsx)("tbody",{children:M.map((function(e,t){return Object(a.jsxs)("tr",{className:"tr_sub tr_sub_"+e.id,children:[Object(a.jsx)("td",{style:{width:"10%"},children:t+1}),Object(a.jsx)("td",{style:{width:"70%"},children:e.subjectName}),Object(a.jsx)("td",{style:{width:"20%"},className:"actions",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{title:"edit Class",className:"btnEdit",type:"button",onClick:function(){return te(e,"edit_sub")},children:Object(a.jsx)(m.d,{size:"lg",icon:"edit mdb-gallery-view-icon"})}),Object(a.jsx)("button",{title:"Delete Class",className:"btnDelete",type:"button",onClick:function(){return te(e,"delete_sub")},children:Object(a.jsx)(m.d,{size:"lg",icon:"trash-alt mdb-gallery-view-icon"})})]})})]},t)}))})})}),Object(a.jsx)(ee.a,{noValidate:!0,children:Object(a.jsx)(ie.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",children:Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{style:{width:"10%"}}),Object(a.jsx)("td",{style:{width:"70%"},className:"py-1",children:Object(a.jsxs)(ee.a.Group,{controlId:"Subject_Name",className:"my-0",children:[Object(a.jsx)(ee.a.Control,{type:"text",autoComplete:"off",placeholder:"Subject Name",required:!0,defaultValue:"",ref:W}),Object(a.jsx)(ee.a.Control.Feedback,{children:"Looks good!"})]})}),Object(a.jsxs)("td",{className:"actions py-1",style:{width:"20%"},children:[Object(a.jsx)("input",{type:"hidden",ref:J}),B?Object(a.jsxs)(m.b,{size:"sm",onClick:function(){return te({},"update_sub")},color:"indigo",className:"btnAdd",children:[Object(a.jsx)(m.d,{size:"lg",icon:"save",className:"ml-2"})," Update"]}):Object(a.jsxs)(m.b,{size:"sm",onClick:function(){return te({},"add_sub")},color:"indigo",className:"btnAdd",children:[Object(a.jsx)(m.d,{size:"lg",icon:"plus-circle mdb-gallery-view-icon",className:"ml-2"})," Add"]})]})]})})})})]})]})})}c(223);function me(){var e=window.ffmpeg_baseurl,t=Object(n.useState)(!1),c=Object(G.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)(""),l=Object(G.a)(i,2),o=l[0],d=l[1],j=Object(n.useRef)(null),u=Object(n.useState)([]),b=Object(G.a)(u,2),h=b[0],x=b[1],g=Object(n.useState)(null),v=Object(G.a)(g,2),y=v[0],N=v[1],C=Object(n.useRef)(null),S=Object(n.useRef)(null),_=Object(n.useState)([]),k=Object(G.a)(_,2),w=k[0],L=k[1],D=Object(n.useState)({pageindex:0,limit:10}),A=Object(G.a)(D,2),z=A[0],E=A[1],R=Object(n.useState)(!1),T=Object(G.a)(R,2),K=T[0],P=T[1],M=Object(n.useState)({}),F=Object(G.a)(M,2),U=F[0],V=F[1];Object(n.useEffect)((function(){Y(z),N({value:"10",label:"10"})}),[]);var Y=function(t){r(!0),d("Loading..."),I.a.get("".concat(e,"api/mpeg/getChapterFilter"),{params:t}).then((function(e){x(e.data.data);var t=e.data,c=t.pageindex,n=t.totalPage,s=[];parseInt(c)>0&&s.push(Object(a.jsx)(re.a.Item,{onClick:function(){B(parseInt(c)-1)},children:Object(a.jsx)(m.d,{icon:"angle-double-left",size:"lg"})},"prev"));for(var i=function(e){s.push(Object(a.jsx)(re.a.Item,{onClick:function(){B(e)},active:e==c,children:parseInt(e)+1},e))},l=0;l<n;l++)i(l);parseInt(c)<parseInt(n)&&s.push(Object(a.jsx)(re.a.Item,{onClick:function(){B(parseInt(c)+1)},children:Object(a.jsx)(m.d,{icon:"angle-double-right",size:"lg"})},"next")),L(s),r(!1),d("")})).catch((function(e){r(!1),d("Error loading Chapter")}))},B=function(e){E((function(t){var c=Object(X.a)(Object(X.a)({},t),{},{pageindex:e});return Y(c),c}))},q=function(e,t){E((function(c){var a=Object(X.a)(Object(X.a)({},c),{},{orderby:e,desc:t,pageindex:0});return Y(a),a}))},W=function(e,t){"chap"==t?J((function(){E((function(t){var c=Object(X.a)(Object(X.a)({},t),{},{chapterName:e,pageindex:0});return Y(c),c}))})):"cls"==t?J((function(){E((function(t){var c=Object(X.a)(Object(X.a)({},t),{},{className:e,pageindex:0});return Y(c),c}))})):"sub"==t?J((function(){E((function(t){var c=Object(X.a)(Object(X.a)({},t),{},{subjectName:e,pageindex:0});return Y(c),c}))})):"content_id"==t&&J((function(){E((function(t){var c=Object(X.a)(Object(X.a)({},t),{},{contentID:e,pageindex:0});return Y(c),c}))}))},J=function(e){clearTimeout(S.current),S.current=setTimeout((function(){e()}),1e3)},Q=function(t,c){if("add_new"==c)V({e:"add"}),P(!0);else if("edit"==c)V({e:"edit",data:t}),P(!0);else if("remove"==c){if(!confirm("are you sure to delete?"))return;var a={id:t.id},n="".concat(e,"api/mpeg/RemoveChapter");if(null==n||null==a)return;I.a.post(n,a,{headers:{"content-type":"application/json"}}).then((function(e){d(e.data.data),r(!1),Y(z)})).catch((function(e){r(!1),setError_Cls("Error to delete data")}))}};return Object(a.jsxs)(O.a,{fluid:!0,className:"C_AddChap",children:[Object(a.jsx)(f.a,{children:K?Object(a.jsx)(Oe,{onhide:function(){Y(z),P(!1)},data:U}):null}),Object(a.jsxs)(f.a,{className:"h-100 m-0",children:[Object(a.jsxs)(p.a,{className:"col-12 pt-3",children:[Object(a.jsx)("span",{className:"loading-error",children:o}),s?Object(a.jsx)(ae,{}):null]}),Object(a.jsxs)(p.a,{className:"col-12",children:[Object(a.jsx)(ie.a,{striped:!0,bordered:!0,hover:!0,className:"mb-0",children:Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{style:{width:"30%"},className:"px-1",children:Object(a.jsxs)("div",{className:"td-filter-box",children:["Chapter",Object(a.jsx)(le.a,{size:"sm",className:"",children:Object(a.jsx)(oe.a,{placeholder:"Search","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){W(e.target.value,"chap")},ref:j})})]})}),Object(a.jsx)("th",{style:{width:"10%"},className:"px-1",children:Object(a.jsxs)("div",{className:"td-filter-box",children:["Class",Object(a.jsx)(le.a,{size:"sm",children:Object(a.jsx)(oe.a,{placeholder:"Search","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){W(e.target.value,"cls")},ref:j})})]})}),Object(a.jsx)("th",{style:{width:"15%"},className:"px-1",children:Object(a.jsxs)("div",{className:"td-filter-box",children:["Subject",Object(a.jsx)(le.a,{size:"sm",className:"",children:Object(a.jsx)(oe.a,{placeholder:"Search","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){W(e.target.value,"sub")},ref:j})})]})}),Object(a.jsx)("th",{style:{width:"30%"},className:"px-1",children:Object(a.jsxs)("div",{className:"td-filter-box",children:["Content ID",Object(a.jsx)(le.a,{size:"sm",className:"",children:Object(a.jsx)(oe.a,{placeholder:"Search","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){W(e.target.value,"content_id")},ref:j})})]})}),Object(a.jsx)("th",{style:{width:"15%"},className:"px-1",children:Object(a.jsxs)("div",{className:"td-filter-box",children:["Action",Object(a.jsxs)(de.a,{children:[Object(a.jsx)(de.a.Toggle,{size:"sm",variant:"light",id:"dropdown-basic",className:"w-100 m-0",children:"Sort By \xa0\xa0"}),Object(a.jsxs)(de.a.Menu,{children:[Object(a.jsx)(de.a.Item,{href:"#",children:Object(a.jsxs)(je.a,{size:"sm",children:[Object(a.jsx)(H.a,{style:{marginRight:".7rem"},onClick:function(){q("chapterName","false")},children:"Chapter"}),Object(a.jsx)(H.a,{onClick:function(){q("chapterName","true")},children:"Desc"})]})}),Object(a.jsx)(de.a.Item,{href:"#",children:Object(a.jsxs)(je.a,{size:"sm",children:[Object(a.jsx)(H.a,{style:{marginRight:".7rem"},onClick:function(){q("classId","false")},children:"Class"}),Object(a.jsx)(H.a,{onClick:function(){q("classId","true")},children:"Desc"})]})}),Object(a.jsx)(de.a.Item,{href:"#",children:Object(a.jsxs)(je.a,{size:"sm",children:[Object(a.jsx)(H.a,{style:{marginRight:".7rem"},onClick:function(){q("subjectId","false")},children:"Subject"}),Object(a.jsx)(H.a,{onClick:function(){q("subjectId","true")},children:"Desc"})]})}),Object(a.jsx)(de.a.Item,{href:"#",children:Object(a.jsxs)(je.a,{size:"sm",children:[Object(a.jsx)(H.a,{style:{marginRight:".7rem"},onClick:function(){q("contentID","false")},children:"contentID"}),Object(a.jsx)(H.a,{onClick:function(){q("contentID","true")},children:"Desc"})]})})]})]})]})})]})})}),Object(a.jsx)("div",{className:"tblList-class",children:Object(a.jsx)(ie.a,{striped:!0,bordered:!0,hover:!0,ref:C,className:"mb-0",children:Object(a.jsx)("tbody",{children:h.map((function(e,t){return Object(a.jsxs)("tr",{className:"tr_cls tr_cls_"+e.id,children:[Object(a.jsx)("td",{style:{width:"30%"},children:e.chapterName}),Object(a.jsx)("td",{style:{width:"10%"},children:e.className}),Object(a.jsx)("td",{style:{width:"15%"},children:e.subjectName}),Object(a.jsx)("td",{style:{width:"30%"},children:e.contentID}),Object(a.jsx)("td",{style:{width:"15%"},className:"actions",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{title:"Change",className:"btnEdit",type:"button",onClick:function(){return Q(e,"edit")},children:Object(a.jsx)(m.d,{size:"lg",icon:"edit mdb-gallery-view-icon"})}),Object(a.jsx)("button",{title:"Remove",className:"btnDelete",type:"button",onClick:function(){return Q(e,"remove")},children:Object(a.jsx)(m.d,{size:"lg",icon:"trash-alt mdb-gallery-view-icon"})})]})})]},t)}))})})})]}),Object(a.jsx)(p.a,{className:"col-4 pt-3",children:Object(a.jsx)("table",{className:"lmt",children:Object(a.jsx)("tbody",{children:Object(a.jsx)("tr",{children:Object(a.jsxs)("td",{children:[Object(a.jsx)("div",{className:"y",children:" Limit: "}),Object(a.jsx)(ue.a,{value:y,className:"x",options:[{value:"10",label:"10"},{value:"50",label:"50"},{value:"100",label:"100"}],onChange:function(e){N(e),E((function(t){var c=Object(X.a)(Object(X.a)({},t),{},{limit:e.value,pageindex:0});return Y(c),c}))}})]})})})})}),Object(a.jsx)(p.a,{className:"col-8 pt-3 pagination-wrapper",children:Object(a.jsx)(re.a,{size:"sm",children:w})}),Object(a.jsxs)(p.a,{className:"col-12 pt-3",children:[Object(a.jsxs)(m.b,{size:"sm",onClick:function(){return Q({},"add_new")},color:"indigo",className:"btnAdd",children:[Object(a.jsx)(m.d,{size:"lg",icon:"plus-circle mdb-gallery-view-icon",className:"ml-2"}),"\xa0 Add New"]}),Object(a.jsx)("p",{children:Object(a.jsx)("br",{})})]})]})]})}c(119);function xe(){var e=window.ffmpeg_baseurl,t=Object(n.useState)(!1),c=Object(G.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)(""),l=Object(G.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)(""),u=Object(G.a)(j,2),b=u[0],h=u[1],O=Object(n.useState)(""),f=Object(G.a)(O,2),x=f[0],g=f[1];Object(n.useEffect)((function(){v()}),[]);var v=function(){r(!0),I.a.get("".concat(e,"api/mpeg/GetRemoteUrl")).then((function(e){if(e.data.data){var t=e.data.data[0].url||"";g(t)}r(!1)})).catch((function(e){d("Error"),r(!1)}))};return Object(a.jsx)(p.a,{className:"col-12 col-sm-12 col-md-8 col-lg-6 pt-3",children:Object(a.jsxs)(Z.a,{children:[Object(a.jsxs)(Z.a.Header,{children:["Admin Domain Url",Object(a.jsx)("span",{className:"loading-error",children:o}),s?Object(a.jsx)(ae,{}):null]}),Object(a.jsx)(Z.a.Body,{children:Object(a.jsxs)(ee.a,{noValidate:!0,children:[Object(a.jsxs)(ee.a.Group,{controlId:"Secret",children:[Object(a.jsx)(ee.a.Label,{children:"Secret"}),Object(a.jsx)(ee.a.Control,{type:"text",autoComplete:"off",placeholder:"Secret",required:!0,value:b,onChange:function(e){h(e.target.value)}})]}),Object(a.jsxs)(ee.a.Group,{controlId:"Secret",children:[Object(a.jsxs)(ee.a.Label,{children:["Domain Url",Object(a.jsx)("span",{className:"label_eg",children:"(e.g. http://localhost:3000)"})]}),Object(a.jsx)(ee.a.Control,{type:"text",autoComplete:"off",placeholder:"Remote Url",required:!0,value:x,onChange:function(e){g(e.target.value)}})]}),Object(a.jsxs)(m.b,{type:"submit",color:"indigo",size:"md",onClick:function(){var t={url:x,secret:b};r(!0),I.a.post("".concat(e,"api/mpeg/SetRemoteUrl"),t,{headers:{"content-type":"application/json"}}).then((function(e){r(!1),console.log(e.data.data),d(e.data.data),v(),g(""),h("")})).catch((function(e){d("Error"),r(!1)}))},children:[Object(a.jsx)(m.d,{icon:"save",size:"2x"}),"\xa0\xa0Save Url"]})]})})]})})}function ge(){var e=window.ffmpeg_baseurl,t=Object(n.useState)(!1),c=Object(G.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)(""),l=Object(G.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)(""),u=Object(G.a)(j,2),b=u[0],h=u[1],x=Object(n.useState)(!1),g=Object(G.a)(x,2),v=g[0],y=g[1],N=Object(n.useState)(!0),C=Object(G.a)(N,2),S=C[0],_=C[1];Object(n.useEffect)((function(){k()}),[]);var k=function(){r(!0),I.a.get("".concat(e,"api/mpeg/SQliteHavePassword")).then((function(e){_(!1),y(e.data.data),r(!1)})).catch((function(e){_(!0),d("Error load SQlite Have Password"),r(!1)}))},w=function(t){var c={secret:b,type:t};r(!0),I.a.get("".concat(e,"api/mpeg/SQliteChangePassword"),{params:c}).then((function(e){r(!1),d(e.data.data),k(),h("")})).catch((function(e){d("Error"),r(!1)}))};return Object(a.jsx)(O.a,{fluid:!0,className:"C_Settings",children:Object(a.jsxs)(f.a,{className:"h-100 m-0",children:[Object(a.jsx)(p.a,{className:"col-12 col-sm-12 col-md-8 col-lg-6 pt-3",children:Object(a.jsxs)(Z.a,{children:[Object(a.jsxs)(Z.a.Header,{children:["DB Encryption",v?Object(a.jsx)(m.d,{icon:"unlock",size:"2x",className:"float-right"}):S?null:Object(a.jsx)(m.d,{icon:"lock-open",size:"2x",className:"float-right"}),Object(a.jsx)("span",{className:"loading-error",children:o}),s?Object(a.jsx)(ae,{}):null]}),Object(a.jsx)(Z.a.Body,{children:Object(a.jsxs)(ee.a,{noValidate:!0,children:[Object(a.jsxs)(ee.a.Group,{controlId:"Secret",children:[Object(a.jsx)(ee.a.Label,{children:"Secret"}),Object(a.jsx)(ee.a.Control,{type:"text",autoComplete:"off",placeholder:"Secret",required:!0,value:b,onChange:function(e){h(e.target.value)}})]}),v?Object(a.jsxs)(m.b,{type:"submit",color:"indigo",size:"md",onClick:function(){return w("remove")},children:[Object(a.jsx)(m.d,{icon:"lock-open",size:"2x"}),"\xa0\xa0Remove Password"]}):Object(a.jsxs)(m.b,{type:"submit",color:"indigo",size:"md",onClick:function(){return w("add")},children:[Object(a.jsx)(m.d,{icon:"unlock",size:"2x"}),"\xa0\xa0Add Password"]})]})})]})}),Object(a.jsx)(xe,{})]})})}c(94),console.log;function ve(){Object(h.c)((function(e){return e})).activation,Object(h.b)();var e=Object(b.f)(),t=window.ffmpeg_baseurl;Object(n.useEffect)((function(){X(),te()}),[]);var c=Object(n.useState)(""),s=Object(G.a)(c,2),r=(s[0],s[1],Object(n.useState)("")),i=Object(G.a)(r,2),l=(i[0],i[1],Object(n.useState)("")),o=Object(G.a)(l,2),d=(o[0],o[1],Object(n.useState)("")),j=Object(G.a)(d,2),u=(j[0],j[1],Object(n.useState)(!1)),x=Object(G.a)(u,2),y=x[0],N=x[1],C=Object(n.useState)(""),S=Object(G.a)(C,2),_=S[0],w=S[1],L=Object(n.useState)(""),D=Object(G.a)(L,2),A=D[0],z=D[1],E=Object(n.useState)(""),R=Object(G.a)(E,2),T=R[0],K=R[1],P=Object(n.useState)(""),M=Object(G.a)(P,2),F=M[0],H=M[1],U=Object(n.useState)(""),V=Object(G.a)(U,2),Y=V[0],B=V[1],W=Object(n.useState)(""),J=Object(G.a)(W,2),Q=J[0],$=J[1],X=function(){N(!0),I.a.post("".concat(t,"api/mpeg/DeviceInfo")).then((function(e){K(e.data.deviceId),N(!1)})).catch((function(e){v("Error load DeviceId","e"),N(!1)}))},te=function(){N(!0),I.a.get("".concat(t,"api/mpeg/GetRemoteUrl")).then((function(e){if(e.data.data){var t=e.data.data[0].url||"";new RegExp("[/]$").test(t)||(t="".concat(t,"/")),$(t)}})).catch((function(e){}))},ce=function(){var e={headers:{"content-type":"application/json"}},t={appId:_,serialKey:A,deviceId:T,clientName:F,description:Y,activationDate:k()().local().format("YYYY-MM-DD HH:mm:ss")};N(!0),I.a.post("".concat(Q,"api/mpeg/KeyActivation"),t,e).then((function(c){N(!1),c.data.data&&(v(c.data.data,"s"),ne(t,e)),c.data.error&&v(c.data.error,"e"),c.data.error_data&&v(c.data.error_data,"s")})).catch((function(e){console.log(e),N(!1)}))},ne=function(c,a){N(!0),I.a.post("".concat(t,"api/mpeg/KeyActivationClient"),c,a).then((function(t){N(!1),t.data.data&&setTimeout((function(){e.push("/")}),2e3),t.data.error&&v(t.data.error,"e")})).catch((function(e){console.log(e),N(!1)}))};return Object(a.jsxs)("div",{className:"C_Activation",children:[Object(a.jsx)(g,{}),Object(a.jsx)("div",{style:{position:"relative"},children:Object(a.jsx)(q,{})}),Object(a.jsx)(O.a,{fluid:!0,className:"C_Activation",children:Object(a.jsx)(f.a,{className:"h-100 m-0",children:Object(a.jsx)(p.a,{className:"col-md-8 col-lg-6 pt-3",children:Object(a.jsxs)(Z.a,{children:[Object(a.jsxs)(Z.a.Header,{children:["Key Activation",y?Object(a.jsx)(ae,{}):null]}),Object(a.jsx)(Z.a.Body,{children:Object(a.jsxs)(ee.a,{noValidate:!0,onSubmit:ce,children:[Object(a.jsxs)(ee.a.Group,{controlId:"Device_ID",children:[Object(a.jsx)(ee.a.Label,{children:"Device ID"}),Object(a.jsx)(ee.a.Control,{type:"text",defaultValue:T,placeholder:"Device ID",readOnly:!0})]}),Object(a.jsxs)(ee.a.Group,{controlId:"App_ID",children:[Object(a.jsx)(ee.a.Label,{children:"App ID"}),Object(a.jsx)(ee.a.Control,{type:"text",autoComplete:"off",defaultValue:_,onChange:function(e){return w(e.target.value)},placeholder:"App ID"})]}),Object(a.jsxs)(ee.a.Group,{controlId:"Serial_Key",children:[Object(a.jsx)(ee.a.Label,{children:"Serial Key"}),Object(a.jsx)(ee.a.Control,{type:"text",autoComplete:"off",defaultValue:A,placeholder:"Serial Key",onChange:function(e){return z(e.target.value)}})]}),Object(a.jsxs)(ee.a.Group,{controlId:"Client_Name",children:[Object(a.jsx)(ee.a.Label,{children:"Client Name"}),Object(a.jsx)(ee.a.Control,{type:"text",autoComplete:"off",defaultValue:F,placeholder:"Client Name",onChange:function(e){return H(e.target.value)}})]}),Object(a.jsxs)(ee.a.Group,{controlId:"Client_Desc",children:[Object(a.jsx)(ee.a.Label,{children:"Client Description"}),Object(a.jsx)(ee.a.Control,{as:"textarea",rows:3,autoComplete:"off",defaultValue:Y,placeholder:"Client Description",onChange:function(e){return B(e.target.value)}})]}),Object(a.jsxs)(m.b,{type:"button",color:"indigo",size:"sm",onClick:ce,children:[Object(a.jsx)(m.d,{icon:"save"}),"\xa0\xa0Activate"]})]})})]})})})})]})}var ye=c(260),Ne=c(137);c(244),console.log;function Ce(){var e=window.ffmpeg_baseurl,t=Object(n.useState)(!1),c=Object(G.a)(t,2),s=c[0],r=c[1],i=Object(n.useState)(""),l=Object(G.a)(i,2),o=l[0],d=l[1],j=Object(n.useState)(""),u=Object(G.a)(j,2),b=u[0],h=u[1],x=Object(n.useState)(""),g=Object(G.a)(x,2),y=g[0],N=g[1],C=Object(n.useState)(""),S=Object(G.a)(C,2),_=S[0],w=S[1],L=Object(n.useState)(!1),D=Object(G.a)(L,2),A=D[0],z=D[1],E=Object(n.useState)([]),R=Object(G.a)(E,2),T=R[0],K=R[1],P=Object(n.useState)({pageindex:0,limit:5}),M=Object(G.a)(P,2),F=M[0],H=M[1],U=Object(n.useState)([]),V=Object(G.a)(U,2),Y=V[0],B=V[1],q=Object(n.useState)(!0),W=Object(G.a)(q,2),J=W[0],Q=W[1],$=Object(n.useState)(!1),te=Object(G.a)($,2),ce=te[0],ne=te[1],se=Object(n.useState)({}),de=Object(G.a)(se,2),je=de[0],ue=de[1],he=Object(n.useRef)(null),Oe=Object(n.useRef)(null),fe=Object(n.useRef)(null),pe=Object(n.useRef)(null),me=Object(n.useRef)(null);Object(n.useEffect)((function(){xe(),Ce(F)}),[]);var xe=function(){r(!0),I.a.post("".concat(e,"api/mpeg/LicenseGenerateKey")).then((function(e){h(e.data.appId),N(e.data.serialKey),r(!1),w(e.data),z(!1)})).catch((function(e){v("Error load License Generate Key","e"),r(!1)}))},ge=function(e){var t=document.createElement("textarea");t.value=e?JSON.stringify(e):JSON.stringify(_),document.body.appendChild(t),t.select();try{document.execCommand("copy")}catch(c){}document.body.removeChild(t),v("Copied","s")},ve=function(){var t={LicenceAppId:b,LicenceKey:y,creationDate:k()().local().format("YYYY-MM-DD HH:mm:ss")};r(!0),I.a.post("".concat(e,"api/mpeg/AddLicenseKeyGen"),t,{headers:{"content-type":"application/json"}}).then((function(e){e.data.data&&v(e.data.data,"s"),e.data.error&&v(e.data.error,"e"),r(!1),z(!0),Ce(F)})).catch((function(e){console.log(e),r(!1)}))},Ce=function(t){r(!0),I.a.get("".concat(e,"api/mpeg/getLicenseKeyGens"),{params:t}).then((function(e){K(e.data.data);for(var t=e.data,c=t.pageindex,n=t.totalPage,s=[],i=function(e){s.push(Object(a.jsx)(re.a.Item,{onClick:function(){Ie(e)},active:e==c,children:e+1},e))},l=0;l<n;l++)i(l);B(s),r(!1)})).catch((function(e){r(!1),d("Error loading Content")}))},Se=function(e){clearTimeout(he.current),he.current=setTimeout((function(){e()}),1e3)},Ie=function(e){H((function(t){var c=Object(X.a)(Object(X.a)({},t),{},{pageindex:e});return Ce(c),c}))},_e=function(t,c){var a=t.appId,n=t.serialKey;"copy_key"===c?ge({appId:a,serialKey:n}):"delete_key"===c?confirm("are you sure to delete appId")&&function(t){var c={LicenceAppId:t};r(!0),I.a.post("".concat(e,"api/mpeg/RemoveLicenseKeyGen"),c,{headers:{"content-type":"application/json"}}).then((function(e){e.data.data&&v(e.data.data,"s"),e.data.error&&v(e.data.error,"e"),r(!1),Ce(F)})).catch((function(e){console.log(e),r(!1)}))}(a):"client_info"===c&&(ue(t),ne(!0))};return Object(a.jsxs)(O.a,{fluid:!0,className:"C_KeyGenerator",children:[Object(a.jsxs)(f.a,{className:"h-100 m-0",children:[Object(a.jsx)(p.a,{className:"col-md-8 col-lg-6 pt-3",children:Object(a.jsxs)(Z.a,{children:[Object(a.jsxs)(Z.a.Header,{children:[A?"Reload New KeyGen":"Key Generator",Object(a.jsx)("span",{className:"loading-error",children:o}),s?Object(a.jsx)(ae,{}):null,Object(a.jsx)("span",{className:"minimize-card",onClick:function(){Q((function(e){var t=me.current;if(t){var c=t.offsetHeight;return e?(t.classList.add("minimize-zone-active"),setTimeout((function(){t.style.marginTop="-".concat(c,"px")}),100)):(t.style.marginTop="0px",setTimeout((function(){t.classList.remove("minimize-zone-active")}),300)),!e}}))},children:Object(a.jsx)(m.d,{icon:J?"minus":"plus"})})]}),Object(a.jsx)(Z.a.Body,{ref:me,className:"minimize-zone",children:Object(a.jsxs)(ee.a,{noValidate:!0,onSubmit:ve,children:[Object(a.jsxs)(ee.a.Group,{controlId:"App_ID",children:[Object(a.jsx)(ee.a.Label,{children:"App ID"}),Object(a.jsx)(m.d,{icon:"redo-alt",className:"indigo-text refresh-btn",size:"lg",title:"Refresh KeyGen",onClick:xe}),Object(a.jsx)(m.d,{icon:"copy",className:"green-text refresh-btn",size:"lg",title:"Copy KeyGen",onClick:function(){return ge(null)}}),Object(a.jsx)(ee.a.Control,{type:"text",defaultValue:b,placeholder:"App ID",readOnly:!0})]}),Object(a.jsxs)(ee.a.Group,{controlId:"Serial_Key",children:[Object(a.jsx)(ee.a.Label,{children:"Serial Key"}),Object(a.jsx)(ee.a.Control,{type:"text",defaultValue:y,placeholder:"Serial Key",readOnly:!0})]}),Object(a.jsxs)(m.b,{type:"button",color:"indigo",size:"sm",onClick:ve,disabled:A,children:[Object(a.jsx)(m.d,{icon:"save"}),"\xa0\xa0Register"]})]})})]})}),Object(a.jsx)(p.a,{className:"col-12 pt-3",children:Object(a.jsxs)(ie.a,{striped:!0,bordered:!0,hover:!0,children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:Object(a.jsxs)("div",{className:"td-filter-box",children:["App ID",Object(a.jsx)(le.a,{size:"sm",className:"",children:Object(a.jsx)(oe.a,{placeholder:"Search by App ID","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){var t;t=e.target.value,fe.current.value="",pe.current.value="",Se((function(){H((function(e){var c=Object(X.a)(Object(X.a)({},e),{},{appId:t,pageindex:0});return delete c.serialKey,delete c.creationDate,Ce(c),c}))}))},ref:Oe})})]})}),Object(a.jsx)("th",{children:Object(a.jsxs)("div",{className:"td-filter-box",children:["Serial Key",Object(a.jsx)(le.a,{size:"sm",className:"",children:Object(a.jsx)(oe.a,{placeholder:"Search by serial Key","aria-label":"","aria-describedby":"basic-addon2",onKeyUp:function(e){var t;t=e.target.value,Oe.current.value="",pe.current.value="",console.log(0),Se((function(){H((function(e){var c=Object(X.a)(Object(X.a)({},e),{},{serialKey:t,pageindex:0});return delete c.appId,delete c.creationDate,Ce(c),c}))}))},ref:fe})})]})}),Object(a.jsx)("th",{children:Object(a.jsxs)("div",{className:"td-filter-box dt-range",children:["Timestamp",Object(a.jsx)(le.a,{size:"sm",className:"",ref:pe,children:Object(a.jsx)(Ne.DatePicker,{onChange:function(e){var t=void 0;if(e){var c=e.$d;t=k()(c).format("YYYY-MM-DD")}Oe.current.value="",fe.current.value="",Se((function(){H((function(e){var c=Object(X.a)(Object(X.a)({},e),{},{creationDate:t,pageindex:0});return delete c.appId,delete c.serialKey,Ce(c),c}))}))},placeholder:"Search by Timestamp",showDefaultIcon:!0,clear:!0})})]})}),Object(a.jsxs)("th",{children:["Action",Object(a.jsx)(m.d,{icon:"redo-alt",className:"indigo-text refresh-btn",size:"lg",title:"Refresh All KeyGens",onClick:function(){Ce(F)}})]})]})}),Object(a.jsx)("tbody",{children:T.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.appId}),Object(a.jsx)("td",{children:e.serialKey}),Object(a.jsxs)("td",{children:[e.creationDate,e.deviceId?Object(a.jsx)(m.d,{icon:"check",className:"green-text activated",title:"Activated"}):null]}),Object(a.jsx)("td",{className:"actions",children:Object(a.jsxs)("div",{children:[Object(a.jsx)("button",{title:"edit Class",className:"btnEdit",type:"button",onClick:function(){return _e(e,"copy_key")},children:Object(a.jsx)(m.d,{size:"lg",icon:"copy",className:"green-text",title:"Copy KeyGen"})}),Object(a.jsx)("button",{title:"Client Info",className:"",type:"button",onClick:function(){return _e(e,"client_info")},children:Object(a.jsx)(m.d,{size:"lg",icon:"sticky-note indigo-text"})}),Object(a.jsx)("button",{title:"Delete Key",className:"btnDelete",type:"button",onClick:function(){return _e(e,"delete_key")},children:Object(a.jsx)(m.d,{size:"lg",icon:"trash-alt mdb-gallery-view-icon"})})]})})]},t)}))})]})}),Object(a.jsx)(p.a,{className:"col-8 pt-3 pagination-wrapper",children:Object(a.jsx)(re.a,{size:"sm",children:Y})})]}),Object(a.jsxs)(ye.a,{show:ce,onHide:function(){return ne(!1)},children:[Object(a.jsx)(ye.a.Header,{closeButton:!0,children:Object(a.jsx)(ye.a.Title,{children:"Client Information"})}),Object(a.jsx)(ye.a.Body,{className:"p-0 client-info",children:Object(a.jsxs)(be.a,{children:[Object(a.jsxs)(be.a.Item,{children:[Object(a.jsx)("span",{className:"lbl",children:"App Id:"})," ",je.appId]}),Object(a.jsxs)(be.a.Item,{children:[Object(a.jsx)("span",{className:"lbl",children:"Serial Key:"})," ",je.serialKey]}),Object(a.jsxs)(be.a.Item,{children:[Object(a.jsx)("span",{className:"lbl",children:"Creation Date:"})," ",je.creationDate]}),Object(a.jsxs)(be.a.Item,{children:[Object(a.jsx)("span",{className:"lbl",children:"Device Id:"})," ",je.deviceId]}),Object(a.jsxs)(be.a.Item,{children:[Object(a.jsx)("span",{className:"lbl",children:"Client Name:"})," ",je.clientName]}),Object(a.jsxs)(be.a.Item,{children:[Object(a.jsx)("span",{className:"lbl",children:"Description:"})," ",je.description]})]})})]})]})}var Se=function(e){var t=Object(h.c)((function(e){return e})).activation;return Object(h.b)(),Object(a.jsx)(O.a,{className:"C_Login",children:Object(a.jsx)(f.a,{className:"h-100",children:Object(a.jsxs)(p.a,{className:"col-9 mt-3",style:{border:"1px dashed red"},children:[Object(a.jsx)("h2",{children:" login form"}),Object(a.jsx)("input",{type:"button",value:"getDB",hidden:!0}),Object(a.jsx)("p",{children:t.isAuth?"Authenticated":"Please login"})]})})})};c(245);function Ie(){return Object(a.jsxs)(n.Fragment,{children:[Object(a.jsx)(b.a,{path:"/",exact:!0,children:Object(a.jsx)(M,{})}),Object(a.jsx)(b.a,{path:"/admin",component:$}),Object(a.jsxs)(b.c,{children:[Object(a.jsx)(b.a,{path:"/home",exact:!0,component:B}),Object(a.jsx)(b.a,{path:"/login",exact:!0,component:Se}),Object(a.jsx)(b.a,{path:"/activation",exact:!0,component:ve}),Object(a.jsx)(b.a,{path:"/admin/upload",exact:!0,component:ne}),Object(a.jsx)(b.a,{path:"/admin/conversion",exact:!0,component:fe}),Object(a.jsx)(b.a,{path:"/admin/addclsnsub",exact:!0,component:pe}),Object(a.jsx)(b.a,{path:"/admin/addchap",exact:!0,component:me}),Object(a.jsx)(b.a,{path:"/admin/settings",exact:!0,component:ge}),Object(a.jsx)(b.a,{path:"/admin/keygen",exact:!0,component:Ce}),Object(a.jsx)(b.a,{path:"/test",exact:!0,render:function(){return Object(a.jsx)("h3",{children:"Test"})}})]})]})}var _e=c(55),ke=c(138),we={isActivate:!1,isAuth:!0,loggedInUser:null,loading_CheckActivation:!1};var Le=Object(_e.combineReducers)({activation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH":return Object(X.a)(Object(X.a)({},e),{},{isAuth:t.payload});case"SET_ACTIVATION":return Object(X.a)(Object(X.a)({},e),{},{isActivate:t.payload});case"SET_USER":return Object(X.a)(Object(X.a)({},e),{},{loggedInUser:t.payload});case"SET_LOADING_CheckActivation":return Object(X.a)(Object(X.a)({},e),{},{loading_CheckActivation:t.payload});default:return e}}}),De=Object(_e.createStore)(Le,Object(ke.composeWithDevTools)()),Ae=function(e){Object(d.a)(c,e);var t=Object(j.a)(c);function c(){return Object(l.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(a.jsx)(h.a,{store:De,children:Object(a.jsx)(u.a,{children:Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(Ie,{})})})})}}]),c}(n.Component);console.clear();var ze=window.publish||!1;window.ffmpeg_baseurl=1==ze?window.location.origin+"/":"http://localhost:50017/",i.a.render(Object(a.jsx)(Ae,{}),document.getElementById("root"))},94:function(e,t,c){}},[[246,1,2]]]);
//# sourceMappingURL=main.04a1e29a.chunk.js.map