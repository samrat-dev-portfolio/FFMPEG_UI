(this["webpackJsonpffmpeg-demo"]=this["webpackJsonpffmpeg-demo"]||[]).push([[0],{119:function(e,t,c){},148:function(e,t,c){},153:function(e,t,c){},174:function(e,t,c){},195:function(e,t,c){},196:function(e,t,c){},197:function(e,t,c){},198:function(e,t,c){},199:function(e,t,c){},200:function(e,t,c){},201:function(e,t,c){},202:function(e,t,c){},204:function(e,t,c){},205:function(e,t,c){},206:function(e,t,c){},207:function(e,t,c){},208:function(e,t,c){},222:function(e,t,c){},223:function(e,t,c){},245:function(e,t,c){},246:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c(1),s=c.n(n),r=c(18),i=c.n(r),o=(c(148),c(124)),l=c(125),u=c(142),b=c(139),d=c(24),j=c(17),f=c(30),h=c(254),p=c(255),m=c(132),O=(c(36),c(153),c(9)),x=(c(45),c(53),c(46),c(57));c(173),c(174);function g(){return Object(a.jsx)(x.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=x.b;"info"==t||"i"==t?c=x.b.info:"success"==t||"s"==t?c=x.b.success:"warn"==t||"w"==t?c=x.b.warn:"error"!=t&&"e"!=t||(c=x.b.error),c(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})}var N=c(19),y=c.n(N),_=c(33),w=c(10),k=c.n(w),S=c(38),A=c.n(S),C=c(131),E=function(){var e=new C.a("ffmpegLocalStorageDb");return e.version(2).stores({ffmpegLocalStorage:"ffmpeg_key, value"}),e.open().catch((function(e){console.log(e)})),e},L=function(){var e=Object(_.a)(y.a.mark((function e(t){var c,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E().ffmpegLocalStorage.where("ffmpeg_key").equals(t).first();case 2:return c=e.sent,a=(c||{}).value||null,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(_.a)(y.a.mark((function e(t,c){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E().ffmpegLocalStorage.where("ffmpeg_key").equals(t).first();case 2:if(a=e.sent,!((a||{}).value||null)){e.next=10;break}return e.next=7,E().ffmpegLocalStorage.where("ffmpeg_key").equals(t).modify({value:c});case 7:return e.abrupt("return",e.sent);case 10:return e.next=12,E().ffmpegLocalStorage.add({ffmpeg_key:t,value:c});case 12:return e.abrupt("return",e.sent);case 13:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),D=function(){var e=Object(_.a)(y.a.mark((function e(t){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("".concat(t,"api/mpeg/IsActivated"));case 3:return c=e.sent,e.abrupt("return",c);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(_.a)(y.a.mark((function e(t){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,I("IsActivate",t);case 3:e.next=9;break;case 5:return e.next=7,L("IsActivate");case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(_.a)(y.a.mark((function e(t){var c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,I("ActivationExp",t);case 3:e.next=9;break;case 5:return e.next=7,L("ActivationExp");case 7:return c=e.sent,e.abrupt("return",c);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(e){if(null===e)return!0;var t=A()(e,"YYYY-MM-DD HH:mm:ss"),c=A()(A()().local().format("YYYY-MM-DD HH:mm:ss"),"YYYY-MM-DD HH:mm:ss");return t.diff(c,"hours")<=0};function M(){var e=window.ffmpeg_baseurl,t=Object(f.b)(),c=Object(j.f)();Object(f.c)((function(e){return e})).activation;Object(n.useEffect)((function(){s()}),[]);var s=function(){var a=Object(_.a)(y.a.mark((function a(){var n,s,r,i,o;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t({type:"SET_LOADING_CheckActivation",payload:!0}),a.next=3,T();case 3:return n=a.sent,a.next=6,H();case 6:if(s=a.sent,s=Y(s),!0!==n||!1!==s){a.next=12;break}t({type:"SET_ACTIVATION",payload:n}),a.next=28;break;case 12:return a.next=14,D(e);case 14:if(r=a.sent,i=r.data.activated||!1,o=r.data.data||"",t({type:"SET_ACTIVATION",payload:i}),i){a.next=24;break}v(o,"w"),"/"!==c.location.pathname&&c.push("/"),a.next=28;break;case 24:return a.next=26,T(i);case 26:return a.next=28,H(A()().local().add(12,"hours").format("YYYY-MM-DD HH:mm:ss"));case 28:t({type:"SET_LOADING_CheckActivation",payload:!1});case 29:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(a.jsx)(g,{})}c(195);function P(e){return Object(a.jsx)("span",{className:"C_ProgressAlert progress-1",children:e.alert})}function z(e){var t=Object(f.c)((function(e){return e})).activation;return Object(n.useEffect)((function(){}),[]),Object(a.jsxs)(h.a,{fluid:!0,className:"C_Entry bimg-page-1",children:[t.loading_CheckActivation?Object(a.jsx)(P,{alert:"Loading..."}):null,Object(a.jsx)(M,{}),Object(a.jsxs)(p.a,{className:"h-100",children:[Object(a.jsx)(m.a,{className:"col-9"}),Object(a.jsx)(m.a,{className:"col-3 p-0",children:Object(a.jsx)("div",{className:"home_btn_row",children:t.isActivate?t.isAuth?Object(a.jsx)(d.b,{className:"home_btn",to:"/home",children:Object(a.jsxs)(O.b,{color:"amber",className:"indigo-text",children:["Enter",Object(a.jsx)(O.d,{size:"lg",icon:"caret-right",className:"ml-2"})]})}):Object(a.jsx)(d.b,{className:"home_btn",to:"/login",children:Object(a.jsxs)(O.b,{color:"dark",children:["Login",Object(a.jsx)(O.d,{size:"lg",icon:"sign-in-alt",className:"ml-2"})]})}):!t.loading_CheckActivation&&Object(a.jsx)(d.b,{className:"home_btn",to:"/activation",children:Object(a.jsxs)(O.b,{color:"success",className:"",children:["Activate",Object(a.jsx)(O.d,{size:"lg",icon:"shield-alt",className:"ml-2"})]})})})})]})]})}var R=c(5);c(196);function U(e){return Object(a.jsx)(h.a,{fluid:!0,className:"C_Header bimg-page-2 p-0",children:Object(a.jsxs)(p.a,{className:"gutter m-0",children:[Object(a.jsx)(m.a,{className:"col-4 logo-1"}),Object(a.jsx)(m.a,{className:"col-8 head-details",children:Object(a.jsxs)("div",{className:"b-orange",children:[Object(a.jsxs)(m.a,{className:"col-4 b-red c-white center-xy d-flex",style:{flexDirection:"column"},children:[Object(a.jsx)("div",{children:e.selected_class}),Object(a.jsx)("span",{className:"subject-details",children:e.selected_subject?e.selected_subject:""})]}),Object(a.jsx)(m.a,{className:"col-8 b-green c-white center-xy d-flex",children:Object(a.jsx)("span",{className:"chaptert-details",children:e.selected_chapter})})]})})]})})}c(197);var W=c(133);c(198);function q(e){var t=Object(j.f)();return Object(a.jsx)(h.a,{fluid:!0,className:"C_Content bimg-page-2 p-0",children:Object(a.jsxs)(p.a,{className:"h-100 gutter m-0",children:[Object(a.jsx)(m.a,{className:"col-12 b-orange py-1 b-radius-1 shadow-1",children:Object(a.jsxs)(p.a,{children:[Object(a.jsx)(m.a,{className:"col-2 pl-4",children:"Shreni"}),Object(a.jsx)(m.a,{className:"col-3 pl-4",children:"Bishoy"}),Object(a.jsx)(m.a,{className:"col-7 pl-4",children:"Adhay Suchi"})]})}),Object(a.jsx)(m.a,{className:"col-12 b-red b-radius-2 space-3",children:Object(a.jsxs)(p.a,{className:"h-100 m-0",children:[Object(a.jsxs)(m.a,{className:"col-2 pr-0 content-box",children:[e.loading_class.enabled?Object(a.jsx)(P,{alert:e.loading_class.alert}):null,Object(a.jsx)("div",{className:"h-100 b-color-1 b-radius-3",children:Object(a.jsx)("ul",{className:"list-group grp-1",children:e.my_class})})]}),Object(a.jsxs)(m.a,{className:"col-3 pr-0 content-box",children:[e.loading_subject.enabled?Object(a.jsx)(P,{alert:e.loading_subject.alert}):null,Object(a.jsx)("div",{className:"h-100 b-color-1 b-radius-3",children:Object(a.jsx)("ul",{className:"list-group grp-2",children:e.my_subject})})]}),Object(a.jsxs)(m.a,{className:"col-7 pr-0 content-box",children:[e.loading_chapter.enabled?Object(a.jsx)(P,{alert:e.loading_chapter.alert}):null,Object(a.jsx)("ul",{className:"list-group grp-3",children:e.my_chapter})]})]})}),Object(a.jsxs)(W.a,{variant:"dark",size:"sm",onClick:function(){t.push("/")},children:[Object(a.jsx)(O.d,{icon:"angle-double-left",className:"sign-in mr-1",size:"lg"}),"Leave"]})]})})}var B=c(134);c(199);function F(e){var t=e.show,c=e.onhide,r=e.contentID,i=e.chapter,o=window.ffmpeg_baseurl,l=s.a.useRef(),u=s.a.useRef(),b=Object(n.useState)(""),d=Object(R.a)(b,2),j=d[0],f=d[1];Object(n.useEffect)((function(){}),[]);var x=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||document.body.offsetWidth;if(e<(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||document.body.offsetHeight)){if("undefined"===typeof u.current||null===u.current)return;u.current.style.width="90%"}else{if("undefined"===typeof u.current||null===u.current)return;var t=3/4*e-50;u.current.style.width=t+"px"}};return Object(n.useEffect)((function(){document.body.onresize=function(){x()},document.body.onblur=function(){window.location.reload()}}),[]),Object(n.useEffect)((function(){if(null!==r){var e={baseurl:o};f("".concat(o,"api/mpeg/M3u8info/").concat(r),{params:e}),x()}}),[t]),Object(n.useEffect)((function(){}),[]),Object(n.useEffect)((function(){}),[]),t&&Object(a.jsx)(h.a,{fluid:!0,className:"C_Player",children:Object(a.jsx)(m.a,{className:"text-center py-3",children:Object(a.jsx)("div",{className:"player-wrapper",ref:u,children:Object(a.jsxs)(O.c,{className:"text-center",children:[Object(a.jsx)(p.a,{className:"header",children:Object(a.jsxs)(m.a,{className:"col-12 p-0",children:[Object(a.jsxs)("p",{className:"m-0 h-100",children:["\xa0",i]}),Object(a.jsxs)(O.b,{className:"exit",color:"mdb-color",size:"sm",onClick:c,children:[Object(a.jsx)(O.d,{icon:"times-circle"}),"\xa0\xa0Close"]})]})}),Object(a.jsx)(p.a,{className:"player-body",children:j.length>0?Object(a.jsx)(B.a,{playerRef:l,srcoff:"https://bitdash-a.akamaihd.net/content/sintel/hls/playlist.m3u8",xsrc:"http://localhost:50017/api/mpeg/M3u8info/20210417-020532-d829654b-bdaf-4c0c-bad6-dd7ce8326e31",src:j,autoPlay:!1,controls:!0,width:"100%",height:"auto",onEnded:function(){l.current.classList.add("fadex"),setTimeout((function(){c()}),3100)}}):null})]})})})})}function G(e){var t=window.ffmpeg_baseurl,c=Object(n.useState)({enabled:!1,alert:""}),s=Object(R.a)(c,2),r=s[0],i=s[1],o=Object(n.useState)([]),l=Object(R.a)(o,2),u=l[0],b=l[1],d=Object(n.useState)(""),j=Object(R.a)(d,2),f=j[0],h=j[1],p=Object(n.useState)(""),m=Object(R.a)(p,2),O=m[0],x=m[1],v=Object(n.useState)(""),N=Object(R.a)(v,2),y=N[0],_=N[1],w=Object(n.useState)({enabled:!1,alert:""}),S=Object(R.a)(w,2),A=S[0],C=S[1],E=Object(n.useState)([]),L=Object(R.a)(E,2),I=L[0],D=L[1],T=Object(n.useState)(""),H=Object(R.a)(T,2),Y=H[0],P=H[1],z=Object(n.useState)(""),W=Object(R.a)(z,2),B=W[0],G=W[1],V=Object(n.useState)({enabled:!1,alert:""}),J=Object(R.a)(V,2),K=J[0],Q=J[1],X=Object(n.useState)([]),Z=Object(R.a)(X,2),$=Z[0],ee=Z[1];Object(n.useEffect)((function(){oe(),te(),ce();var t=new URLSearchParams(e.location.search),c=t.get("cls");c&&h(c);var a=t.get("sub");a&&P(a);var n=t.get("cls_name");n&&x(n);var s=t.get("chap_name");return s&&_(s),le}),[]),Object(n.useEffect)((function(){ue(),f&&Y?ae():Q({enabled:!0,alert:"Please Provide Class and subject"})}),[f,Y]),Object(n.useEffect)((function(){ue()}),[y]);var te=function(){i({enabled:!0,alert:"Loading..."}),k.a.get("".concat(t,"api/mpeg/getClasses")).then((function(e){b(e.data.data),i({enabled:!1,alert:""})})).catch((function(e){i({enabled:!0,alert:"Error"})}))},ce=function(){C({enabled:!0,alert:"Loading..."}),k.a.get("".concat(t,"api/mpeg/getSubject")).then((function(e){D(e.data.data),C({enabled:!1,alert:""})})).catch((function(e){C({enabled:!0,alert:"Error"})}))},ae=function(){Q({enabled:!0,alert:"Loading..."}),k.a.get("".concat(t,"api/mpeg/getChapter"),{params:{cls:f,sub:Y}}).then((function(e){ee(e.data.data),e.data.data.length?Q({enabled:!1,alert:""}):Q({enabled:!0,alert:"No data Available"})})).catch((function(e){Q({enabled:!0,alert:"Error"})}))},ne=function(e){h(e.id),x("Class ".concat(e.className))},se=function(e){P(e.id),function(e){var t=I.find((function(t,c){return t.id==e}))||{};t=t.subjectName||"",G(t)}(e.id)},re=function(e,t){_(t.chapterName),ie(e,"chapter_highlight"),null!=t.contentID&&"NULL"!=t.contentID&&(Oe(t.contentID),Ne(t.chapterName),fe(!0))},ie=function(e,t){var c=e.target;document.querySelectorAll("."+t).forEach((function(e){e.classList.remove(t)})),c.classList.add(t)},oe=function(){document.body.classList.add("body-blue")},le=function(){document.body.classList.remove("body-blue")},ue=function(){var t="?cls=".concat(f,"&sub=").concat(Y,"&cls_name=").concat(O,"&chap_name=").concat(y);e.history.replace({search:t})},be=Object(n.useState)(!1),de=Object(R.a)(be,2),je=de[0],fe=de[1],he=Object(n.useState)(null),pe=Object(R.a)(he,2),me=pe[0],Oe=pe[1],xe=Object(n.useState)(null),ge=Object(R.a)(xe,2),ve=ge[0],Ne=ge[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(g,{}),Object(a.jsx)(M,{}),Object(a.jsx)(F,{chapter:ve,show:je,contentID:me,onhide:function(){fe(!1),Oe(null),Ne(null)}}),Object(a.jsx)(U,{selected_class:O,selected_subject:B,selected_chapter:y}),Object(a.jsx)(q,{my_class:u.map((function(e,t){return Object(a.jsxs)("li",{className:"list-group-item",onClick:function(){ne(e)},children:["Class ",e.className]},t)})),loading_class:r,my_subject:I.map((function(e,t){return Object(a.jsx)("li",{className:"list-group-item",onClick:function(){se(e)},children:e.subjectName},t)})),loading_subject:A,my_chapter:$.map((function(e,t){return Object(a.jsx)("li",{className:"list-group-item",onClick:function(t){re(t,e)},children:e.chapterName},t)})),loading_chapter:K,isAuth:!0})]})}c(200),c(201);c(262),c(263),c(202);var V=c(11);c(264),c(261),c(265),c(140),c(204),c(205);c(141),c(267),c(256),c(257),c(136),c(259),c(258),c(206),c(51),c(207),c(266);c(208);c(222);c(223);c(119);c(94),console.log;c(260),c(137),c(244),console.log;c(245);function J(){return Object(a.jsxs)(n.Fragment,{children:[Object(a.jsx)(j.a,{path:"/",exact:!0,children:Object(a.jsx)(z,{})}),Object(a.jsx)(j.a,{path:"/home",exact:!0,component:G}),Object(a.jsx)(j.a,{path:"/admin",exact:!0,render:function(){return Object(a.jsx)("h3",{children:"This is an user app"})}})]})}var K=c(55),Q=c(138),X={isActivate:!1,isAuth:!0,loggedInUser:null,loading_CheckActivation:!1};var Z=Object(K.combineReducers)({activation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH":return Object(V.a)(Object(V.a)({},e),{},{isAuth:t.payload});case"SET_ACTIVATION":return Object(V.a)(Object(V.a)({},e),{},{isActivate:t.payload});case"SET_USER":return Object(V.a)(Object(V.a)({},e),{},{loggedInUser:t.payload});case"SET_LOADING_CheckActivation":return Object(V.a)(Object(V.a)({},e),{},{loading_CheckActivation:t.payload});default:return e}}}),$=Object(K.createStore)(Z,Object(Q.composeWithDevTools)()),ee=function(e){Object(u.a)(c,e);var t=Object(b.a)(c);function c(){return Object(o.a)(this,c),t.apply(this,arguments)}return Object(l.a)(c,[{key:"render",value:function(){return Object(a.jsx)(f.a,{store:$,children:Object(a.jsx)(d.a,{children:Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(J,{})})})})}}]),c}(n.Component);console.clear();var te=window.publish||!1;window.ffmpeg_baseurl=1==te?window.location.origin+"/":"http://localhost:50017/",i.a.render(Object(a.jsx)(ee,{}),document.getElementById("root"))},94:function(e,t,c){}},[[246,1,2]]]);
//# sourceMappingURL=main.c88c91ec.chunk.js.map